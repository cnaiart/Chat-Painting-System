"use strict";const e=require("../../common/vendor.js"),s=require("../../api/chat.js"),t=require("../../enums/appEnums.js"),u=require("../../stores/app.js");if(require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../enums/constantEnums.js"),require("../../mixins/share.js"),require("../../api/task.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../router/index.js"),require("../../utils/cache.js"),require("../../utils/auth.js"),require("../../config/index.js"),require("../../api/app.js"),!Array){(e.resolveComponent("u-search")+e.resolveComponent("u-icon")+e.resolveComponent("router-navigate")+e.resolveComponent("u-empty")+e.resolveComponent("page-status")+e.resolveComponent("tabbar"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../node-modules/uniapp-router-next/components/router-navigate/router-navigate.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-empty/u-empty.js")+(()=>"../../components/page-status/page-status.js")+(()=>"../../components/tabbar/tabbar.js"))();const r=e.defineComponent({__name:"skills",setup(r){const a=e.ref(t.PageStatusEnum.LOADING),i=e.ref([]),n=e.ref({}),o=e.ref(""),l=u.useAppStore(),c=async()=>{try{i.value=await s.getSkillLists({keyword:o.value});const e={id:0,name:"全部",skill:i.value.reduce(((e,s)=>e.concat(s.skill)),[])};n.value=e,i.value.unshift(e),a.value=t.PageStatusEnum.NORMAL}catch(e){a.value=t.PageStatusEnum.ERROR}};return e.onLoad((()=>{c()})),e.onShow((()=>{l.getConfig()})),e.onPullDownRefresh((async()=>{await c(),e.index.stopPullDownRefresh()})),(s,t)=>{var u,r;return e.e({a:s.$theme.navColor,b:s.$theme.navBgColor,c:s.$theme.pageStyle,d:e.o((e=>c())),e:e.o((e=>o.value=e)),f:e.p({placeholder:"请输入关键词搜索",height:"72","show-action":!1,modelValue:o.value}),g:e.f(i.value,((s,t,u)=>({a:e.t(s.name),b:n.value.id==s.id?1:"",c:s.id,d:e.o((e=>(e=>{n.value=e})(s)),s.id)}))),h:null==(u=n.value.skill)?void 0:u.length},(null==(r=n.value.skill)?void 0:r.length)?{i:e.f(n.value.skill,((s,t,u)=>e.e({a:"86cf9314-3-"+u+",86cf9314-2-"+u,b:e.p({name:s.image,size:76}),c:e.t(s.name),d:s.describe},s.describe?{e:e.t(s.describe)}:{},{f:"86cf9314-2-"+u+",86cf9314-0",g:e.p({to:`/packages/pages/chat/chat?type=3&id=${s.id}`}),h:s.id})))}:{j:e.p({text:"暂无数据～",mode:"list"})},{k:e.p({text:"加载出错～"}),l:e.p({status:a.value})})}}});wx.createPage(r);
