"use strict";const e=require("../../common/vendor.js"),s=require("../../stores/app.js"),o=require("../../api/shop.js"),t=require("../../api/chat.js"),n=require("./components/useSessionList.js");if(require("../../api/app.js"),require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../enums/constantEnums.js"),require("../../mixins/share.js"),require("../../api/task.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../router/index.js"),require("../../utils/cache.js"),require("../../utils/auth.js"),require("../../config/index.js"),require("../../utils/client.js"),require("../../enums/appEnums.js"),!Array){(e.resolveComponent("model-picker")+e.resolveComponent("u-icon")+e.resolveComponent("chat-scroll-view")+e.resolveComponent("tabbar"))()}Math||(r+l+(()=>"../../components/model-picker/model-picker.js")+u+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../components/chat-scroll-view/chat-scroll-view.js")+i+p+a+c+(()=>"../../components/tabbar/tabbar.js"))();const i=()=>"./components/session-popup.js",r=()=>"./components/follow-official.js",a=()=>"../../components/notice-popup/notice-popup.js",u=()=>"./components/problem-example.js",l=()=>"./components/session.js",p=()=>"./components/problem-example-popup.js",c=()=>"./components/mp-privacy-popup.js",v=e.defineComponent({__name:"index",setup(i){const{getSessionLists:r,sessionActive:a}=n.useSessionList(),u=e.ref(!1),l=e.ref(!1),p=e.ref([]),c=e.ref([]),v=e.shallowRef(),m=e.reactive({tips:{show:0,title:"",sub_title:""}});e.shallowRef();const d=e.ref(""),f=async()=>{p.value=await t.getSamplesLists()},j=async()=>{var e;try{const{data:s}=await o.getDecorate({id:8});m.tips=null==(e=JSON.parse(s)[1])?void 0:e.content}catch(s){console.log("获取装修数据失败=>",s)}},h=s.useAppStore(),q=e.ref(!0);return e.onHide((()=>{q.value=!1})),e.onShow((async()=>{j(),r(),f(),q.value=!0})),e.onPullDownRefresh((async()=>{(async()=>{await h.getConfig(),await j(),await r(),await f()})(),e.index.stopPullDownRefresh()})),(s,o)=>{var t,n,i,r;return e.e({a:s.$theme.navColor,b:s.$theme.navBgColor,c:s.$theme.pageStyle,d:q.value},q.value?e.e({e:e.p({show:!!e.unref(h).config.is_follow_official,title:e.unref(h).getLoginConfig.involved_text}),f:e.o((e=>u.value=e)),g:e.p({modelValue:u.value}),h:e.o((e=>d.value=e)),i:e.p({modelValue:d.value}),j:e.t(e.unref(h).getChatConfig.chat_title),k:p.value.length},p.value.length?{l:e.o((s=>e.unref(v).sendLock(s))),m:e.o((e=>l.value=!0)),n:e.p({data:p.value})}:{},{o:null==(t=null==m?void 0:m.tips)?void 0:t.show},(null==(n=null==m?void 0:m.tips)?void 0:n.show)?{p:e.p({name:"warning",size:40}),q:e.t(null==(i=null==m?void 0:m.tips)?void 0:i.title),r:e.t(null==(r=null==m?void 0:m.tips)?void 0:r.sub_title)}:{},{s:e.sr(v,"f0eddc48-0",{k:"chatRef"}),t:e.o((e=>c.value=e)),v:e.p({type:1,otherId:e.unref(a),currentModel:d.value,showAdd:!0,safeAreaInsetBottom:!1,avatar:e.unref(h).getChatConfig.chat_logo,bottom:"100rpx",modelValue:c.value})}):{},{w:e.o((e=>u.value=e)),x:e.p({modelValue:u.value}),y:e.o((s=>e.unref(v).sendLock(s))),z:e.o((e=>l.value=e)),A:e.p({data:p.value,modelValue:l.value})})}}});wx.createPage(v);
