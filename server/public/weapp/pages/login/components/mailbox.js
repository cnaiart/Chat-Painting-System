"use strict";const e=require("../../../common/vendor.js"),r=require("../../../stores/app.js"),o=require("../../../hooks/useCaptchaEffect.js");if(require("../../../api/app.js"),require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../mixins/share.js"),require("../../../api/task.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../router/index.js"),require("../../../utils/cache.js"),require("../../../utils/auth.js"),require("../../../config/index.js"),require("../../../api/account.js"),require("../../../utils/client.js"),require("../../../enums/appEnums.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("u-input")+e.resolveComponent("u-form-item")+e.resolveComponent("router-navigate")+e.resolveComponent("u-form")+e.resolveComponent("agreement")+e.resolveComponent("u-button"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../node-modules/uniapp-router-next/components/router-navigate/router-navigate.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-form/u-form.js")+(()=>"../../../components/agreement/agreement.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const s=e.defineComponent({__name:"mailbox",emits:["login"],setup(s,{emit:t}){const i=r.useAppStore(),{captchaKey:n,captchaImage:u,getCaptchaFn:a}=o.useCaptchaEffect(),p=e.shallowRef(),c=e.reactive({scene:3,email:"",captcha:"",code:"",password:""}),m=()=>{var r;if(null==(r=p.value)?void 0:r.checkAgreement()){if(!c.email)return e.index.$u.toast("请输入邮箱号码");if(!c.password)return e.index.$u.toast("请输入密码");t("login",{...c,key:n.value,captcha:c.captcha}),setTimeout(a,200)}};return(r,o)=>e.e({a:e.p({size:36,name:"/static/images/icon/icon_mobile.png"}),b:e.o((e=>c.email=e)),c:e.p({border:!1,placeholder:"请输入邮箱账号",modelValue:c.email}),d:e.unref(i).getLoginConfig.is_captcha},e.unref(i).getLoginConfig.is_captcha?{e:e.p({size:36,name:"/static/images/icon/icon_code.png"}),f:e.o((e=>c.captcha=e)),g:e.p({placeholder:"图形验证码",border:!1,modelValue:c.captcha}),h:e.unref(u),i:e.o(((...r)=>e.unref(a)&&e.unref(a)(...r)))}:{},{j:e.p({size:36,name:"/static/images/icon/icon_password.png"}),k:e.o((e=>c.password=e)),l:e.p({type:"password",placeholder:"请输入密码",border:!1,modelValue:c.password}),m:e.p({to:"/packages/pages/forget_pwd/forget_pwd?type=3"}),n:e.sr(p,"119eadac-11",{k:"agreementRef"}),o:e.o(m),p:e.p({type:"primary",shape:"circle","hover-class":"none"}),q:e.p({to:"/packages/pages/register/register?type=3"})})}});wx.createComponent(s);
