"use strict";const e=require("../../../../common/vendor.js"),u=require("../../../../common/assets.js"),r=require("../../../../utils/file.js"),o=require("../../../../stores/app.js"),s=require("../../../../hooks/useCopy.js");if(require("../../../../api/app.js"),require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../enums/constantEnums.js"),require("../../../../mixins/share.js"),require("../../../../api/task.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../router/index.js"),require("../../../../utils/cache.js"),require("../../../../utils/auth.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-loading")+e.resolveComponent("u-avatar")+e.resolveComponent("u-icon")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-loading/u-loading.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-avatar/u-avatar.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const i=e.defineComponent({__name:"preview",setup(i,{expose:a}){const{copy:n}=s.useCopy(),t=o.useAppStore(),l=e.ref(!1),p=e.ref(!1),m=e.ref(!0),v=e.ref({image:"",prompts:"",category_name:"",user_info:{image:"",name:""}}),c=()=>{l.value=!1,m.value=!0},q=()=>{r.saveImageToPhotosAlbum(v.value.image)},j=()=>{e.index.previewImage({urls:[v.value.image],current:0,success:function(){c()},fail:function(){}})};return a({open:e=>{l.value=!0,v.value=e}}),(r,o)=>{var s,i;return e.e({a:!m.value,b:v.value.thumbnail||v.value.image,c:e.o((e=>m.value=!1)),d:e.o((e=>p.value=!0)),e:e.o(j),f:m.value&&!p.value},m.value&&!p.value?{g:e.p({mode:"circle",color:r.$theme.primaryColor,size:"80"})}:{},{h:p.value},p.value?{i:e.unref(u.ErrorIcon)}:{},{j:e.t(null==(i=null==(s=v.value)?void 0:s.original_prompts)?void 0:i.prompt),k:e.unref(t).getDrawSquareConfig.is_show_user},e.unref(t).getDrawSquareConfig.is_show_user?{l:e.p({src:v.value.user_info.image,size:"40"}),m:e.t(v.value.user_info.name)}:{},{n:u._imports_0$5,o:e.o(q),p:u._imports_1,q:e.o((u=>e.unref(n)(v.value.prompts))),r:e.p({name:"close",size:"30",color:"#999999"}),s:e.o(c),t:e.o(c),v:e.o(c),w:e.o((e=>l.value=e)),x:e.p({mode:"center","border-radius":"14",duration:"16",customStyle:{background:"none"},modelValue:l.value})})}}}),a=e._export_sfc(i,[["__scopeId","data-v-986c4a5c"]]);wx.createComponent(a);
