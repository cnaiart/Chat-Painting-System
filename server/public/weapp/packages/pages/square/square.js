"use strict";const e=require("../../../common/vendor.js"),r=require("../../../api/square.js"),s=require("../../../stores/user.js"),t=require("../../../router/index.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../config/index.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../mixins/share.js"),require("../../../api/task.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../stores/app.js"),require("../../../api/app.js"),require("../../../utils/auth.js"),require("../../../utils/cache.js"),!Array){(e.resolveComponent("u-search")+e.resolveComponent("u-tabs")+e.resolveComponent("tabbar"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-tabs/u-tabs.js")+i+o+u+(()=>"../../../components/tabbar/tabbar.js"))();const i=()=>"./component/lists.js",o=()=>"./component/preview.js",u=()=>"./component/poster.js",a=e.defineComponent({__name:"square",setup(i){const o=s.useUserStore(),u=e.shallowRef(null),a=e.shallowRef(),n=e.ref(!1),c=e.ref(""),l=e.reactive({isTouch:!0,current:0,lists:[{name:"全部",id:""}]}),p=async r=>{l.isTouch=!1,await e.nextTick$1(),l.current=r},m=e=>{l.isTouch=!0,l.current=e.detail.current},j=e=>{u.value.open(e)},q=async e=>{o.isLogin?(n.value=!0,setTimeout((()=>{a.value.open(e)}),300)):t.router.navigateTo("/pages/login/login")};return(async()=>{try{const e=await r.getDrawSquareCateLists();l.lists=[{name:"全部",id:""},...e]}catch(e){console.log("获取分类错误=>",e)}})(),(r,s)=>e.e({a:r.$theme.navColor,b:r.$theme.navBgColor,c:r.$theme.pageStyle,d:e.o((e=>c.value=e)),e:e.p({placeholder:"请输入要搜索的关键词","show-action":!1,modelValue:c.value}),f:e.o(p),g:e.p({list:l.lists,"is-scroll":!0,current:l.current,"active-color":r.$theme.primaryColor,"inactive-color":"#333333","bg-color":"transparent"}),h:e.f(l.lists,((r,s,t)=>({a:e.o(j,s),b:e.o(q,s),c:"2c0917c0-2-"+t,d:e.p({index:s,i:l.current,cid:r.id,keyword:c.value}),e:s}))),i:l.isTouch?200:0,j:l.current,k:e.o(m),l:e.sr(u,"2c0917c0-3",{k:"viewRef"}),m:n.value},n.value?{n:e.sr(a,"2c0917c0-4",{k:"posterRef"}),o:e.o((e=>n.value=!1))}:{})}});wx.createPage(a);
