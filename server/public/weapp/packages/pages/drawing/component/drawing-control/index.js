"use strict";const e=require("../../../../../common/vendor.js"),r=require("../../../../../stores/app.js"),n=require("../../hooks/useConfigEffect.js");if(require("../../../../../api/app.js"),require("../../../../../utils/request/index.js"),require("../../../../../utils/request/http.js"),require("../../../../../enums/requestEnums.js"),require("../../../../../utils/request/cancel.js"),require("../../../../../stores/user.js"),require("../../../../../api/user.js"),require("../../../../../enums/constantEnums.js"),require("../../../../../mixins/share.js"),require("../../../../../api/task.js"),require("../../../../../utils/util.js"),require("../../../../../stores/navigationBarTitle.js"),require("../../../../../router/index.js"),require("../../../../../utils/cache.js"),require("../../../../../utils/auth.js"),require("../../../../../config/index.js"),require("../../../../../api/drawing.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("u-button"))()}Math||(s+i+l+o+y+q+c+m+j+g+v+f+d+t+a+(()=>"../../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+p+(()=>"../../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+u)();const u=()=>"./components/keyword-suggestion.js",s=()=>"./generation-picker.js",i=()=>"./prompt-txt2img.js",l=()=>"./example-prompt.js",o=()=>"./reference-image.js",t=()=>"./negative-prompt.js",a=()=>"./other-prompt.js",d=()=>"./picture-size.js",f=()=>"./model-picker.js",p=()=>"./disclaimer-modal.js",m=()=>"./yj-model-picker.js",c=()=>"./yj-picture-size.js",j=()=>"./dalle3-picture-size.js",g=()=>"./dalle3-style-picker.js",v=()=>"./dalle3-size-type.js",q=()=>"./sd-model-picker.js",y=()=>"./sd-picture-size.js",w=e.defineComponent({__name:"index",setup(u){const s=e.shallowRef(),i=r.useAppStore(),l=e.inject("pageIndex"),o=e.inject("consumptionCount"),t=e.inject("drawForm"),a=e.inject("isReceiving"),d=e.inject("drawingHandler"),f=e.shallowRef(),p=e.shallowRef(),m=e.ref(!1),c=async()=>{m.value=!0,await e.nextTick$1(),m.value=!1,await p.value.getDrawingExample()},j=()=>{e.index.$u.debounce(c,500)},{yjData:g,getYjSdData:v,sdData:q,getSdData:y}=n.useConfigEffect();e.watch((()=>null==t?void 0:t.model),(e=>{"sd"===e?(t.scale="1024x1024",y()):"yijian_sd"===e?(t.scale="2",t.style="default",v()):"dalle3"===e?(t.scale="1024x1024",t.style="vivid"):(t.scale="1:1",t.style="default")}),{deep:!1,immediate:!1});const w=()=>{t.action="generate",d({drawing:t,isClear:!0})};return(r,n)=>{var u,d,c,v,y,h,k,x;return e.e({a:e.sr(f,"f7416d42-0",{k:"generationPickerRef"}),b:e.o((r=>e.unref(t).model=r)),c:e.o((r=>e.isRef(o)?o.value=r:null)),d:e.p({modelValue:e.unref(t).model,balance:e.unref(o)}),e:e.o((r=>e.unref(t).prompt=r)),f:e.p({keydownRef:e.unref(s),modelValue:e.unref(t).prompt}),g:e.sr(p,"f7416d42-2",{k:"examplePromptRef"}),h:e.o((r=>e.unref(t).prompt=r)),i:e.p({modelValue:e.unref(t).prompt}),j:"dalle3"!==e.unref(t).model},"dalle3"!==e.unref(t).model?{k:e.o((r=>e.unref(t).image_base=r)),l:e.p({modelValue:e.unref(t).image_base})}:{},{m:"sd"===e.unref(t).model},"sd"===e.unref(t).model?{n:e.o((r=>e.unref(t).scale=r)),o:e.p({modelValue:e.unref(t).scale}),p:e.o((r=>e.unref(t).engine=r)),q:e.p({"model-list":e.unref(q),modelValue:e.unref(t).engine})}:"yijian_sd"===e.unref(t).model?{s:e.o((r=>e.unref(t).scale=r)),t:e.p({modelValue:e.unref(t).scale}),v:e.o((r=>e.isRef(t)?t.value=r:null)),w:e.p({data:e.unref(g).detail,modelValue:e.unref(t)})}:"dalle3"===e.unref(t).model?{y:e.o((r=>e.unref(t).scale=r)),z:e.p({modelValue:e.unref(t).scale}),A:e.o((r=>e.unref(t).style=r)),B:e.p({modelValue:e.unref(t).style}),C:e.o((r=>e.unref(t).quality=r)),D:e.p({modelValue:e.unref(t).quality})}:{E:e.o((r=>e.unref(t).version=r)),F:e.s(e.unref(t).style),G:e.o((r=>e.unref(t).style=r)),H:e.p({version:e.unref(t).version}),I:e.o((r=>e.unref(t).scale=r)),J:e.p({modelValue:e.unref(t).scale}),K:e.o((r=>e.unref(t).no_content=r)),L:e.p({modelValue:e.unref(t).no_content}),M:e.o((r=>e.unref(t).other=r)),N:e.p({modelValue:e.unref(t).other})},{r:"yijian_sd"===e.unref(t).model,x:"dalle3"===e.unref(t).model,O:m.value,P:e.o(j),Q:e.unref(o)},e.unref(o)?{R:e.t(e.unref(o)||0)}:{},{S:(null==(d=null==(u=e.unref(i))?void 0:u.getDrawConfig)?void 0:d.disclaimer_status)?"":1,T:null==(v=null==(c=e.unref(i))?void 0:c.getDrawConfig)?void 0:v.disclaimer_status},(null==(h=null==(y=e.unref(i))?void 0:y.getDrawConfig)?void 0:h.disclaimer_status)?{U:e.p({name:"question-circle"}),V:e.p({content:null==(x=null==(k=e.unref(i))?void 0:k.getDrawConfig)?void 0:x.disclaimer_content})}:{},{W:e.o((e=>l.value=1)),X:e.o(w),Y:e.p({type:"primary","custom-style":{width:"100%",height:"82rpx",fontSize:"30rpx",margin:"0"},shape:"circle",loading:e.unref(a)}),Z:e.sr(s,"f7416d42-18",{k:"keywordSuggestionRef"}),aa:e.o((r=>e.unref(t).prompt=r)),ab:e.p({modelValue:e.unref(t).prompt})})}}});wx.createComponent(w);
