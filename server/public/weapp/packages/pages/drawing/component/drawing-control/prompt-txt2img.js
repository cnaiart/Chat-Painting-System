"use strict";const e=require("../../../../../common/vendor.js"),r=require("../../../../../common/assets.js"),o=require("../../../../../stores/app.js"),u=require("../../../../../hooks/useLockFn.js"),s=require("../../../../../api/drawing.js");if(require("../../../../../api/app.js"),require("../../../../../utils/request/index.js"),require("../../../../../utils/request/http.js"),require("../../../../../enums/requestEnums.js"),require("../../../../../utils/request/cancel.js"),require("../../../../../stores/user.js"),require("../../../../../api/user.js"),require("../../../../../enums/constantEnums.js"),require("../../../../../mixins/share.js"),require("../../../../../api/task.js"),require("../../../../../utils/util.js"),require("../../../../../stores/navigationBarTitle.js"),require("../../../../../router/index.js"),require("../../../../../utils/cache.js"),require("../../../../../utils/auth.js"),require("../../../../../config/index.js"),!Array){(e.resolveComponent("u-loading")+e.resolveComponent("u-icon")+e.resolveComponent("l-textarea"))()}Math||((()=>"../../../../../uni_modules/vk-uview-ui/components/u-loading/u-loading.js")+(()=>"../../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../../components/l-textarea/l-textarea.js"))();const t=e.defineComponent({__name:"prompt-txt2img",props:{modelValue:{default:""},keydownRef:{default:{}}},emits:["update:modelValue"],setup(t,{emit:n}){const i=t,a=o.useAppStore(),l=e.computed({get:()=>i.modelValue,set:e=>{n("update:modelValue",e)}}),{isLock:p,lockFn:m}=u.useLockFn((async()=>{try{if(""==l.value.trim())return void e.index.$u.toast("请输入描述词");const{translate:r}=await s.keywordPromptTranslate({prompt:l.value});n("update:modelValue",r)}catch(r){console.log("翻译失败=>",r)}}));return(o,u)=>{var s,n,i,d;return e.e({a:e.o((e=>{var r;return null==(r=t.keydownRef)?void 0:r.open()})),b:2==(null==(n=null==(s=e.unref(a))?void 0:s.getDrawConfig)?void 0:n.translate_type)},2==(null==(d=null==(i=e.unref(a))?void 0:i.getDrawConfig)?void 0:d.translate_type)?e.e({c:e.unref(p)},e.unref(p)?{d:e.p({mode:"flower",color:o.$theme.primaryColor,size:"28"})}:{e:r._imports_0$6},{f:e.unref(p),g:e.o(((...r)=>e.unref(m)&&e.unref(m)(...r)))}):{},{h:e.p({name:"trash"}),i:e.o((e=>l.value="")),j:e.o((r=>e.isRef(l)?l.value=r:null)),k:e.p({maxlength:"1024",rows:4,"show-word-limit":!1,"custom-class":{paddingBottom:"60rpx"},placeholder:"输入英文描述词，生成效果会更好；描述词越详细，生成的图片效果更加真实哦～~",modelValue:e.unref(l)})})}}}),n=e._export_sfc(t,[["__scopeId","data-v-aeebb77f"]]);wx.createComponent(n);
