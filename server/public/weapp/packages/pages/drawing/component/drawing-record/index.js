"use strict";const e=require("../../../../../common/vendor.js"),r=require("../../../../../common/assets.js"),s=require("../../../../../stores/user.js");if(require("../../../../../api/user.js"),require("../../../../../utils/request/index.js"),require("../../../../../utils/request/http.js"),require("../../../../../enums/requestEnums.js"),require("../../../../../utils/request/cancel.js"),require("../../../../../router/index.js"),require("../../../../../utils/cache.js"),require("../../../../../enums/constantEnums.js"),require("../../../../../config/index.js"),require("../../../../../mixins/share.js"),require("../../../../../api/task.js"),require("../../../../../utils/util.js"),require("../../../../../stores/navigationBarTitle.js"),require("../../../../../stores/app.js"),require("../../../../../api/app.js"),require("../../../../../utils/auth.js"),!Array){(e.resolveComponent("u-button")+e.resolveComponent("router-navigate"))()}Math||(n+(()=>"../../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../../../node-modules/uniapp-router-next/components/router-navigate/router-navigate.js")+u)();const n=()=>"./paging.js",u=()=>"../component/share-square.js",t=e.defineComponent({__name:"index",setup(n){const u=s.useUserStore(),t=e.inject("pageIndex"),i=e.inject("taskLists"),a=e.inject("taskIndex"),o=e.inject("setTaskRecordFunc"),c=e.ref(!1),l=e.shallowRef(null),p=e.ref([]);e.index.$on("shareSquare",(e=>{console.log("emit share"),d(e)}));const d=async r=>{var s;if(p.value.includes(r.id)||r.is_square){if((await e.index.showModal({title:"温馨提示",content:"该图片已分享过，是否确认重复分享？"})).cancel)return}c.value=!0,await e.nextTick$1(),null==(s=l.value)||s.open(r)};return e.onUnmounted((()=>{e.index.$off("shareSquare")})),e.onUnload((()=>{e.index.$off("shareSquare")})),(s,n)=>e.e({a:e.f(e.unref(i),((r,s,n)=>({a:e.t(r.name),b:s,c:r.value===e.unref(a)?1:"",d:e.o((e=>a.value=r.value),s)}))),b:e.unref(u).isLogin},e.unref(u).isLogin?{c:e.f(e.unref(i),((r,s,n)=>({a:"de5c0576-0-"+n,b:e.p({index:r.value,i:e.unref(a),status:r.value,setTaskRecordFunc:e.unref(o)}),c:s,d:r.value===e.unref(a)})))}:{d:e.unref(r.NoLoginEmpty),e:e.p({type:"primary","custom-style":{width:"345rpx",height:"82rpx",fontSize:"32rpx"},shape:"circle"}),f:e.p({to:"/pages/login/login"})},{g:e.p({type:"primary","custom-style":{width:"100%",height:"82rpx",fontSize:"30rpx"},shape:"circle"}),h:e.o((e=>t.value=0)),i:c.value},c.value?{j:e.sr(l,"de5c0576-4",{k:"shareRef"}),k:e.o((e=>c.value=!1))}:{})}}),i=e._export_sfc(t,[["__scopeId","data-v-de5c0576"]]);wx.createComponent(i);
