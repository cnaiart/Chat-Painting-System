"use strict";const e=require("../../../common/vendor.js"),s=require("../../../api/promotion.js"),t=require("../../../stores/theme.js"),a=require("../../../common/assets.js"),r=require("../../../enums/appEnums.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../mixins/share.js"),require("../../../api/task.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../router/index.js"),require("../../../utils/cache.js"),require("../../../stores/app.js"),require("../../../api/app.js"),require("../../../utils/auth.js"),require("../../../config/index.js"),require("../../../api/shop.js"),require("../../../utils/client.js"),require("../../../utils/theme.js"),!Array){(e.resolveComponent("u-empty")+e.resolveComponent("page-status"))()}Math||(i+u+(()=>"../../../uni_modules/vk-uview-ui/components/u-empty/u-empty.js")+(()=>"../../../components/page-status/page-status.js"))();const i=()=>"./components/content.js",u=()=>"./components/apply.js",n=e.defineComponent({__name:"promotion_center",setup(i){const u=e.ref(r.PageStatusEnum.LOADING),n=e.ref({}),o=e.ref([]),l=e.ref({}),p=e.ref({}),c=e.ref(!1),m=e.ref(!1),v=async()=>{const e=await s.getDistributionIndex();n.value=e.user,o.value=e.account_log,l.value=e.apply_detail,c.value=e.is_open,p.value=e.withdraw_config,m.value=!!n.value.is_distribution},g=e.ref(!1),j=e.shallowRef([{icon:a.distribution_orders,name:"分销订单",link:"/packages/pages/distribution_order/distribution_order"},{icon:a.commission_details,name:"佣金明细",link:"/packages/pages/earnings_detail/earnings_detail"},{icon:a.team_fans,name:"团队粉丝",link:"/packages/pages/team_fans/team_fans"},{icon:a.invite_friends,name:"邀请好友",link:"/packages/pages/invite_poster/invite_poster"}]),q=t.useThemeStore();return e.computed((()=>g.value?q.primaryColor:"transparent")),e.onShow((async()=>{try{await v(),u.value=r.PageStatusEnum.NORMAL}catch(e){u.value=r.PageStatusEnum.ERROR}})),e.onPullDownRefresh((async()=>{try{await v(),u.value=r.PageStatusEnum.NORMAL}catch(s){u.value=r.PageStatusEnum.ERROR}e.index.stopPullDownRefresh()})),(s,t)=>e.e({a:s.$theme.pageStyle,b:m.value&&c.value},m.value&&c.value?{c:e.p({"user-info":n.value,"account-log":o.value,"nav-lists":e.unref(j),"withdraw-config":p.value})}:!m.value&&c.value?{e:e.o(v),f:e.p({"apply-detail":l.value})}:{},{d:!m.value&&c.value,g:!c.value},c.value?{}:{h:e.p({"font-size":"28","icon-size":"300",text:"该功能还未开启～",src:e.unref(a.EmptyDistributeCenterImage)})},{i:e.p({status:u.value})})}});wx.createPage(n);
