"use strict";const e=require("../../../common/vendor.js"),o=require("../../../api/chat.js"),r=require("../../../hooks/useCopy.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../mixins/share.js"),require("../../../api/task.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../router/index.js"),require("../../../utils/cache.js"),require("../../../stores/app.js"),require("../../../api/app.js"),require("../../../utils/auth.js"),require("../../../config/index.js"),!Array){(e.resolveComponent("audio-play")+e.resolveComponent("u-read-more")+e.resolveComponent("u-icon")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../components/audio-play/audio-play.js")+i+(()=>"../../../uni_modules/vk-uview-ui/components/u-read-more/u-read-more.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const i=()=>"../../../components/chat-record-item/text-item.js",t=e.defineComponent({__name:"collection",setup(i){const t=e.shallowRef(),{copy:s}=r.useCopy(),u=e.ref([]),a=async(e,r)=>{const{lists:i}=await o.getCollectChatRecordLists({page_no:e,page_size:r});i.forEach((e=>{e.show=!1})),u.value=i,t.value.complete(i)};return e.onPageScroll((({scrollTop:e})=>{t.value.updatePageScrollTop(e)})),e.onReachBottom((()=>{t.value.pageReachBottom()})),(r,i)=>({a:r.$theme.navColor,b:r.$theme.navBgColor,c:r.$theme.pageStyle,d:e.f(u.value,((i,a,n)=>e.e({a:i.voice_input},i.voice_input?{b:"e32069c0-1-"+n+",e32069c0-0",c:e.p({url:i.voice_input,"bg-color":r.$theme.primaryColor})}:{},{d:e.t(null==i?void 0:i.ask),e:e.f(null==i?void 0:i.reply,((o,t,u)=>e.e(i.voice_output?{a:"e32069c0-2-"+n+"-"+u+",e32069c0-0",b:e.p({"bg-color":r.$theme.primaryColor,url:i.voice_output})}:{},{c:"e32069c0-4-"+n+"-"+u+",e32069c0-3-"+n+"-"+u,d:e.p({content:o,"is-markdown":"true"}),e:"e32069c0-3-"+n+"-"+u+",e32069c0-0",f:e.o((r=>e.unref(s)(o)),t),g:t}))),f:i.voice_output,g:"e32069c0-5-"+n+",e32069c0-0",h:e.o((e=>(async e=>{const r=u.value[e].id;try{await o.cancelCollectChatRecord({collect_id:r}),t.value.reload()}catch(i){console.log("取消收藏报错=>",i)}})(a)),i.id),i:i.id}))),e:e.p({toggle:!0,"text-indent":0,"shadow-style":{"z-index":"9999",backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)",paddingTop:"300rpx",marginTop:"-300rpx"}}),f:e.p({name:"star-fill",color:"#FBBC2D",size:"36"}),g:e.sr(t,"e32069c0-0",{k:"paging"}),h:e.o(a),i:e.o((e=>u.value=e)),j:e.p({fixed:!1,"use-page-scroll":!0,modelValue:u.value})})}});t.__runtimeHooks=1,wx.createPage(t);
