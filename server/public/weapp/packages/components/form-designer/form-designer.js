"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("u-form-item")+e.resolveComponent("u-form"))()}Math||(o+d+t+i+r+(()=>"../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-form/u-form.js"))();const o=()=>"./widgets/input.js",d=()=>"./widgets/textarea.js",t=()=>"./widgets/radio.js",i=()=>"./widgets/select.js",r=()=>"./widgets/checkbox.js",u=e.defineComponent({__name:"form-designer",props:{formLists:{default:()=>[]},modelValue:null,labelPosition:{default:"top"},borderBottom:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(o,{expose:d,emit:t}){const i=o,r=e.shallowRef(),u=e.computed({get:()=>i.modelValue,set(e){t("update:modelValue",e)}}),n=e.ref({});return e.watch((()=>i.formLists),(o=>{n.value=null==o?void 0:o.reduce(((e,o)=>(o.props.isRequired&&(e[o.id]=[{required:!0}]),e)),{}),e.nextTick$1((()=>{var e;null==(e=r.value)||e.setRules(n.value)}))}),{immediate:!0}),d({validate:async()=>new Promise(((e,o)=>{var d;null==(d=r.value)||d.validate((d=>{d?e(!0):o()}))}))}),(d,t)=>({a:e.f(o.formLists,((d,t,i)=>e.e({a:"WidgetInput"===d.name},"WidgetInput"===d.name?{b:"43bd6194-2-"+i+",43bd6194-1-"+i,c:e.o((o=>e.unref(u)[d.id]=o),d.id),d:e.p({...d.props,modelValue:e.unref(u)[d.id]})}:"WidgetTextarea"===d.name?{f:"43bd6194-3-"+i+",43bd6194-1-"+i,g:e.o((o=>e.unref(u)[d.id]=o),d.id),h:e.p({...d.props,modelValue:e.unref(u)[d.id]})}:"WidgetRadio"===d.name?{j:"43bd6194-4-"+i+",43bd6194-1-"+i,k:e.o((o=>e.unref(u)[d.id]=o),d.id),l:e.p({...d.props,modelValue:e.unref(u)[d.id]})}:"WidgetSelect"===d.name?{n:"43bd6194-5-"+i+",43bd6194-1-"+i,o:e.o((o=>e.unref(u)[d.id]=o),d.id),p:e.p({...d.props,modelValue:e.unref(u)[d.id]})}:"WidgetCheckbox"===d.name?{r:"43bd6194-6-"+i+",43bd6194-1-"+i,s:e.o((o=>e.unref(u)[d.id]=o),d.id),t:e.p({...d.props,modelValue:e.unref(u)[d.id]})}:{},{e:"WidgetTextarea"===d.name,i:"WidgetRadio"===d.name,m:"WidgetSelect"===d.name,q:"WidgetCheckbox"===d.name,v:d.id,w:"43bd6194-1-"+i+",43bd6194-0",x:e.p({prop:d.id,label:d.props.title,borderBottom:o.borderBottom,required:d.props.isRequired})}))),b:e.sr(r,"43bd6194-0",{k:"formRef"}),c:e.p({model:e.unref(u),...{...d.$attrs,...i},"error-type":["none"],rules:n.value})})}});wx.createComponent(u);
