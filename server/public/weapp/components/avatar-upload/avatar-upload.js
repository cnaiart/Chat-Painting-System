"use strict";const e=require("../../common/vendor.js"),r=require("../../utils/util.js");if(require("../../stores/navigationBarTitle.js"),require("../../router/index.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../config/index.js"),require("../../enums/constantEnums.js"),require("../../mixins/share.js"),require("../../api/task.js"),require("../../stores/app.js"),require("../../api/app.js"),require("../../utils/auth.js"),require("../../utils/cache.js"),!Array){e.resolveComponent("u-icon")()}Math;const u=e.defineComponent({__name:"avatar-upload",props:{modelValue:{type:String},size:{type:[String,Number],default:140},round:{type:[Boolean,String,Number],default:!1},border:{type:Boolean,default:!0}},emits:["update:modelValue","upload"],setup(u,{emit:s}){const t=u;e.useRouter();const o=e.computed((()=>{const u=r.addUnit(t.size);return{width:u,height:u,borderRadius:e.lodashExports.isBoolean(t.round)?t.round?"50%":"":r.addUnit(t.round)}})),i=async e=>{var r;const u=null==(r=e.detail)?void 0:r.avatarUrl;u&&a(u)},a=async e=>{s("update:modelValue",e),s("upload",e)};return e.index.$on("uAvatarCropper",(e=>{a(e)})),e.onUnmounted((()=>{e.index.$off("uAvatarCropper")})),(r,s)=>e.e({a:u.modelValue},u.modelValue?{b:e.s(e.unref(o)),c:u.modelValue}:{d:e.p({name:"plus",size:36}),e:e.s(e.unref(o))},{f:e.o(i),g:e.o(i)})}}),s=e._export_sfc(u,[["__scopeId","data-v-246dd5ff"]]);wx.createComponent(s);
