import{_ as e}from"./page-meta.0a6ed5a4.js";import{d as a,z as l,r as t,b0 as s,b1 as o,o as r,i as u,g as i,f as p,F as n,m,j as c,a as d,b as f,e as _,h as g,t as x,u as y,G as v,k as h,J as j}from"./index-c4e9cb21.js";import{_ as k}from"./audio-play.6c57b3d3.js";import{_ as b}from"./u-read-more.a855151d.js";import{_ as w}from"./u-icon.9d0b6bc8.js";import{_ as C}from"./z-paging.0c0bd55f.js";import{c as z,d as B}from"./chat.ffb7aceb.js";import{u as F}from"./useCopy.c5769034.js";import{_ as T}from"./text-item.vue_vue_type_script_setup_true_lang.00f45e3c.js";import{F as V}from"./floating-menu.33dda305.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./katex.02915daa.js";import"./_commonjsHelpers.02d3be64.js";import"./mp-html.30804373.js";import"./u-loading.5334235e.js";import"./icon_copy.2cfe0671.js";const $=a({__name:"collection",setup(a){const $=l(),{copy:D}=F(),P=t([]),S=async(e,a)=>{const{lists:l}=await z({page_no:e,page_size:a});l.forEach((e=>{e.show=!1})),P.value=l,$.value.complete(l)};return s((({scrollTop:e})=>{$.value.updatePageScrollTop(e)})),o((()=>{$.value.pageReachBottom()})),(a,l)=>{const t=d(f("page-meta"),e),s=h,o=d(f("audio-play"),k),z=j,F=d(f("u-read-more"),b),A=d(f("u-icon"),w),E=d(f("z-paging"),C);return r(),u(n,null,[i(t,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),i(E,{ref_key:"paging",ref:$,modelValue:P.value,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value=e),onQuery:S,fixed:!1,"use-page-scroll":""},{default:p((()=>[(r(!0),u(n,null,m(P.value,((e,l)=>(r(),_(s,{class:"m-[30rpx] bg-white",key:e.id},{default:p((()=>[i(s,{class:"p-[30rpx]"},{default:p((()=>[i(s,{class:"flex"},{default:p((()=>[i(s,{class:"w-[40rpx] h-[40rpx] bg-[#4073FA] text-white text-center leading-[40rpx] flex-shrink-0"},{default:p((()=>[g(" 问 ")])),_:1}),i(s,{class:"ml-[20rpx]"},{default:p((()=>[e.voice_input?(r(),_(s,{key:0},{default:p((()=>[i(o,{url:e.voice_input,"bg-color":a.$theme.primaryColor},null,8,["url","bg-color"])])),_:2},1024)):c("v-if",!0),i(z,null,{default:p((()=>[g(x(null==e?void 0:e.ask),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(r(!0),u(n,null,m(null==e?void 0:e.reply,((l,t)=>(r(),_(s,{class:"flex mt-[30rpx]",key:t},{default:p((()=>[i(s,{class:"w-[40rpx] h-[40rpx] bg-[#FBBC2D] text-center leading-[40rpx] flex-shrink-0"},{default:p((()=>[g(" 答 ")])),_:1}),i(s,{class:"flex-1 ml-[20rpx] min-w-0"},{default:p((()=>[e.voice_output?(r(),_(s,{key:0},{default:p((()=>[i(o,{"bg-color":a.$theme.primaryColor,url:e.voice_output},null,8,["bg-color","url"])])),_:2},1024)):c("v-if",!0),i(s,null,{default:p((()=>[i(F,{toggle:"","text-indent":0,"shadow-style":{"z-index":"9999",backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)",paddingTop:"300rpx",marginTop:"-300rpx"}},{default:p((()=>[c(" @vue-ignore "),i(T,{content:l,"is-markdown":"true"},null,8,["content"])])),_:2},1032,["shadow-style"]),i(s,{class:"flex"},{default:p((()=>[i(s,{class:"text-sm text-muted",onClick:e=>y(D)(l)},{default:p((()=>[g(" 复制 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),i(s,{class:"flex justify-end items-center text-sm text-muted",onClick:e=>(async e=>{const a=P.value[e].id;try{await B({collect_id:a}),$.value.reload()}catch(l){console.log("取消收藏报错=>",l)}})(l)},{default:p((()=>[i(A,{name:"star-fill",color:"#FBBC2D",size:"36"}),v("span",{class:"ml-[10rpx]"},"取消收藏")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue"]),c("    悬浮菜单    "),i(V)],64)}}});export{$ as default};
