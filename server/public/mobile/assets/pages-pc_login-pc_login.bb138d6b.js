import{_ as a}from"./page-meta.0a6ed5a4.js";import{d as e,r as s,K as t,a8 as l,a9 as r,o as c,i as o,g as u,e as n,f as i,h as p,t as f,j as m,F as _,aa as y,ab as g,a as d,b as v,k as x}from"./index-c4e9cb21.js";import{_ as h}from"./u-avatar.83c9bedc.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.9d0b6bc8.js";const k=j(e({__name:"pc_login",setup(e){const j=s({}),k=y(),b=async(a={getUrl:!0})=>{let e=null;const{code:s,key:t="",getUrl:c}=a;s&&(e=await g({code:s,key:t}),j.value=e),c&&await l.getUrl(r.PC_LOGIN)};return t((()=>{const a=k.query,e=l.getAuthData();if(e.code&&e.scene==r.PC_LOGIN)try{b({...a,...e})}catch(s){}finally{l.setAuthData()}else a.is_pc&&a.key&&b()})),(e,s)=>{const t=d(v("page-meta"),a),l=d(v("u-avatar"),h),r=x;return c(),o(_,null,[u(t,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),j.value.token?(c(),n(r,{key:0,class:"h-full flex flex-col items-center justify-center"},{default:i((()=>[u(l,{size:"140",src:j.value.avatar},null,8,["src"]),u(r,{class:"my-[30rpx] text-xl"},{default:i((()=>[p(f(j.value.nickname),1)])),_:1}),u(r,{class:"text-[36rpx]"},{default:i((()=>[p("微信授权成功")])),_:1})])),_:1})):m("v-if",!0)],64)}}}),[["__scopeId","data-v-4c1374ab"]]);export{k as default};
