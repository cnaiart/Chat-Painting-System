import{d as a,A,Z as e,ay as t,ak as i,b9 as s,o as n,e as o,f as l,g as d,n as M,u as c,i as w,m as y,F as g,j as u,v as x,b8 as v,a as p,b,k as h,cr as r,cs as m,az as E,bh as B}from"./index-c4e9cb21.js";import{_ as f}from"./u-icon.9d0b6bc8.js";import{_ as R}from"./_plugin-vue_export-helper.1b428a4d.js";const j=R(a({__name:"floating-menu",props:{list:{default:[{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAAHlBMVEVHcEwxMTEyMjIyMjIyMjIzMzMyMjIyMjIuLi4wMDA2q1KxAAAACnRSTlMASJXO5/+7exQt1SvOiAAAAnJJREFUeAHtlctv00AQxhOD/LgFVN+BykjcQCISR0pVKb1R7E3bW6Wq0GMOjeAYQci5h1b8u2TH692dfXkWoYoIzyW2Nz/vzHze+UbeePq2/rIaxcYN28Y8lttwirGDOCqfthibRGF3gmKnMVRx1GHsWQRWSorN6VQGwId9+LkmY0tRFVRYU0VIYJdF188ZEbvifz7hVz/4VXNLotr/TtQbSJrn0PxjPV+K5tCHputDRdR8DJu9626zrj09URoaw/2nPiozv6gxPLjowSrr5XuEg5fapRS4WFfkSmkV617NdaWNI3vspwpdaRWbHs2x0ipcqZu9dhSfBDUvvad5GdA88wubBcZKFXilP5E0VIC37Fadk9gmr11Kq/BI6nmswj1W9jxJhIvwlmy2DFexJMxte6wklCOcWJpfkQaGmdKGNp4yw0rCB0MF/sTIo7dA1ZU9SquAT+xc3EzJtgL+UIvrXqVVwCe2kg2aEy0TJuJCduSMRo1GP2VPUu95d0Qqv6YoLBmwARuw/xH7dclEHD6nY5sO4nFAxVofl7EgYneIsg3UjeV4M7ydH0sNis1I2L2JnZKwivv4ExE33MRI2BRZK7eYWwrGN8MpT4iYZv+PcSup2CMilj84dr4Lu/0BVgzYX8TO/nVsvAu7PTz2kYhdqIUMY8aq2iPBU2C9vX2PX695x73cnGfFvskcj+zNaznNwTHbIc2nAGOfRYC5adMbVudfRUw1J6lMZ2pWCgPvcPrWOmRott3NtJajeK1jmbkqCy3x81rP0apBNX2MTf4aUUYyjeaR3/WFN5jCq80CvXG/e374yqS2qy+FOpcvhDS/AZfUCJ8NFMHMAAAAAElFTkSuQmCC",pages:"/pages/index/index"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAAHlBMVEVHcEwxMTEyMjIyMjIyMjIzMzMyMjIvLy8yMjIwMDBBWH4nAAAACnRSTlMARIamyP/oD2YoaKsxDgAAA29JREFUeAG9lc9P20oQx9cJL7ZvCBG9K+Qpelcer6biRtu4LUeSTIAbrRoBt4hf6pEDoeotqgjqn1v2h+3Nemd2ElWdU7zOxzvznV8CseifHsCX3b/FMhY/gLG3Mz4VZQUFMLxnU3lFAYyYXGzdpbh1Fva4SAEMJgyq6VIAhwwXi8BGvV75MyznjXHsu3z4uaefTpiXXRThbGrunnXZRXWgucsApsTvT1xhA9El9USlyu0DEpt79L5WDpCY/PJw4nN8FvLx3D1thry880avknJEYFN/ap+l6wQ29nvTkF7ifRBhscvP7aCYjH2AOX+OYrcvb099L1pkObcxoRuYG8q6WK2nMjEoJvPjHwBjqk7w9HSJDKR4BFOiVSO80qVYWwSGlN4tke8Gjv1F9MCfxRIa2/n9Sq6AxatViSwupCZzqiZz7Jsx2QFdTK+E7DcZ+LHvxRrZ3S1MyjY2LZTJMhlNkKDxySUbzvc6CWxGZGrfkULqGDxe5oH1LRWDD+6p2jhnBKaCqyVoSq8AoRPuXqcWB7VwhLhRf1movjjz7spFL+UchU/20RMEfTRx2Ev/Sh2c0JTOLMB+8fxDXU+UiDEVCcBn5VX6oJ8GIaq4DqDX6bwqfgcvE+IRatYPUyLNXWq0zsCMdpa95lDiq3Pd8BuHeqjH9t9KigB8XIkCuJiQ1JOfcsrUtevqf+92O53/31fP+zgVjQvxtk3vpBt7BYeOIN1ZL+ndtiPZMN8aYuE9m7p1iiLJyfBMEQ9qmyUyXvgXnO7QvseXNMMrWo01Z46U9+Vo/2SEIyaAAXbZIabyM3Jdl+5HnZy+3wuiHxvenLeDhaeEdtaRGqujGYUpf5x1pFbNKUUZhw4WjrJAZOV1C6JE8iQ0sHV0diB3RKYdMW0vZdKGIUrEzjJWS/QyiOlSqbRsMgQpRalimQNnqbyY9PIYeSJsbqcgIieMbU07OPkw4lAitoO75eRaW2ZlTmb/nIfNrS7IOSVSxWM0Sd1SIyyqZEhYlWVsXBbGGl8RXb1bpZDHXKxdStmuNS1hrfKOLl9ILaXOQMYr/0q/k1IcLqWypZolXkZ/IYp/R9xmEwu+ReTsr1lmWidZJtta95nBjvjY1Oi+AiYnQWM5rG1hp3xsbmpKKnnGx1pFTeXMsaUtKYrjavyGTwmxOfpXiF+QVa4DAPOBXQAAAABJRU5ErkJggg==",pages:"/pages/user/user"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAAG1BMVEVHcEwyMjIyMjIzMzMyMjIxMTEuLi4yMjIyMjLpeuG6AAAACXRSTlMAqeP/yD0XXYFHDdZ8AAAB9UlEQVR4Ae2VOW/qQBSF5/GejctHKGgjkFDK4HEgLSBRW7hJyVZQIvEHkEDAzw6MzXLHg+9SICE4XSKOv5lzl1EvFestigWumdYdvstvaB2O2LaJPmghgQlsBqZjEawlgzVFMHaQDwOLHgA2eMGeBFasencXO2G4avAWVaJNt8BOa1BtOtyKbFpvBYc88i7nnDJsV7vG49iuHqTE/P2xL1Cld/atIO67uCm8zakMFm6FdNM8i3zAwilVTn0RE6eC1Pf//B0aTo2t3xFxam1+F3NxaQqX3b0k4oYwFGKYyjOpLNi4BJ6Sersy7BQyzszZiI2bWF8n4szn24qN64OpI+OWMJMM18FsJZhJhgsxWwALfsJhT4gPhueMiymZvNvhooc009O2U0IjMWf6Av85NPgCtU3z5fXRm6UVwLsip39WvYn6AwacrICUt7tN7moL72YTJlmS1e2vrEsSyg7Ia52bAJKOY/rJduWXAkkBbenbKlH2VF5LWbUbovwD6+kgaipLpCpKxH6EiUpEVzvsX+u9IWmoJVXzzFPW5NqOM0N4yiyNjYs72YHJgzs0mYsZyDx16QHH5G1Sk7tDfvZOVXqZyd3FM43JubKqmCty9b6PuUJnN5Yx27ag5W6z3C7kkK2b85IUoGq3N4HXd3vq3R237Z9Pv9sbKPbt2738AAAAAElFTkSuQmCC",pages:null}]},disabled:{type:Boolean,default:!1},bottom:{default:160},right:{default:0}},setup(a){const R=a,j=A({left:0,top:0,isRemove:!0,windowWidth:0,windowHeight:0,btnWidth:0,btnHeight:0,x:1e4,y:1e4,old:{x:0,y:0},showBtn:!1,isLeft:!1}),I=v();e((async()=>{await t();const a=i();j.windowWidth=a.windowWidth,j.windowHeight=a.windowHeight;try{s().in(I).select(".movable-view").boundingClientRect((a=>{j.btnWidth=a.width,j.btnHeight=a.height,j.x=j.old.x,j.y=j.old.y,t((()=>{j.x=j.windowWidth-j.btnWidth-R.right,j.y=j.windowHeight-j.btnHeight-R.bottom}))})).exec()}catch(A){console.log(A)}}));const V=a=>{j.old.x=a.detail.x,j.old.y=a.detail.y},X=a=>{j.isRemove=!0},S=a=>{if(!R.disabled&&j.old.x){j.x=j.old.x,j.y=j.old.y;const a=(j.windowWidth-j.btnWidth)/2;j.x<0||j.x>0&&j.x<=a?t((()=>{j.x=0,j.isLeft=!0})):t((()=>{j.x=j.windowWidth-j.btnWidth,j.isLeft=!1})),j.isRemove=!1}},Y=()=>{j.showBtn=!j.showBtn};return(A,e)=>{const t=p(b("u-icon"),f),i=h,s=r,v=m;return n(),o(i,{class:"floating-menu",onTouchstart:e[0]||(e[0]=x((()=>{}),["stop"])),onTouchend:e[1]||(e[1]=x((()=>{}),["stop"])),onTouchmove:e[2]||(e[2]=x((()=>{}),["stop"]))},{default:l((()=>[d(v,{class:"movable-area","scale-area":!1},{default:l((()=>[d(s,{class:M(["movable-view",j.isRemove?"":"animation-info"]),style:{"pointer-events":"auto"},onTouchstart:X,onTouchend:S,onChange:V,direction:"all",inertia:"true",x:j.x,y:j.y,disabled:a.disabled,"out-of-bounds":!0,damping:200,friction:100},{default:l((()=>[d(i,{class:"item-main",onClick:Y},{default:l((()=>[d(t,{name:c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsBAMAAAB9SEr+AAAAG1BMVEVHcEwuLi4wMDAyMjIzMzMxMTEyMjIxMTEyMjIXxx3dAAAACXRSTlMAEDXM/1yqTPIDgcKpAAABO0lEQVR4Ae3VsU7DQAwGYF8i2jWChTEUBkaE8gKkDtzYgQcoUh+gAwMrUaXy2NAghKKz/0NHoFFkj7Z8n32RLmTx53FaiGl3AbvOuBHzG34CXa5i3gr5GfMSYsw3IiYf943xnYgxryEmtR0wXkFMGLLDfAExX8pYg7E2yOcMZ1Qwl4bNkjCqDOtFPjaMDetjtXJa5Jttk7AHw/rl42LOMMO6UB6YCKb9yCO/GKeUnzF2opQ3EPscRihX4j39ti1xyLlyJY/4SrTXIlcel684l7lsx3A7p9SvI5xSHxmXTYDbp3H+f7cbGecVro5we2X6Mm27dhpcmcbVaZwflvPT4FrjjPsZ9yof91ZgrlGOW2HuPsxfHYZfE+RCjeY7qHVcuBvRy4em70Z0yUvpprOKb0EX0UL+PtmCLAaMd8JHPtGuACWPAAAAAElFTkSuQmCC"),size:"36"},null,8,["name"])])),_:1}),j.showBtn?(n(),o(i,{key:0,class:M(["menu-box",j.isLeft?"leftOut1":"rightOut1"])},{default:l((()=>[(n(!0),w(g,null,y(a.list,((a,A)=>(n(),o(i,{key:A,onClick:A=>(a=>{a.pages?E.switchTab(a.pages):B({delta:1,fail:()=>{uni.$u.toast("已经是第一个页面了")}})})(a),class:"item-main"},{default:l((()=>[d(t,{name:a.icon,size:"36"},null,8,["name"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["class"])):u("v-if",!0)])),_:1},8,["class","x","y","disabled"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-d50e15d3"]]);export{j as F};
