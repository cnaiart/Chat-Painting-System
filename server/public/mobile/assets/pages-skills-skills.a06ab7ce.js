import{d as a,r as e,P as s,l as t,K as l,C as u,D as r,E as i,o,i as c,g as m,f as n,F as p,m as d,e as _,a as f,b as g,k as v,S as y,n as h,h as x,t as k,j}from"./index-c4e9cb21.js";import{_ as b}from"./page-meta.0a6ed5a4.js";import{_ as w}from"./u-search.6e69441d.js";import{_ as C}from"./u-icon.9d0b6bc8.js";import{_ as O}from"./router-navigate.7694f14d.js";import{_ as R}from"./u-empty.8b31fa6b.js";import{_ as L}from"./page-status.8f3a35bf.js";import{_ as N}from"./tabbar.vue_vue_type_script_setup_true_lang.de757f7b.js";import{b as S}from"./chat.ffb7aceb.js";import{_ as V}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading.5334235e.js";import"./u-badge.4654495c.js";const A=V(a({__name:"skills",setup(a){const V=e(s.LOADING),A=e([]),D=e({}),E=e(""),I=t(),P=async()=>{try{A.value=await S({keyword:E.value});const a={id:0,name:"全部",skill:A.value.reduce(((a,e)=>a.concat(e.skill)),[])};D.value=a,A.value.unshift(a),V.value=s.NORMAL}catch(a){V.value=s.ERROR}};return l((()=>{P()})),u((()=>{I.getConfig()})),r((async()=>{await P(),i()})),(a,e)=>{const s=f(g("page-meta"),b),t=f(g("u-search"),w),l=v,u=y,r=f(g("u-icon"),C),i=f(g("router-navigate"),O),S=f(g("u-empty"),R),I=f(g("page-status"),L),U=f(g("tabbar"),N);return o(),c(p,null,[m(s,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),m(I,{status:V.value},{error:n((()=>[m(S,{text:"加载出错～"})])),default:n((()=>[m(l,{class:"skills"},{default:n((()=>[m(l,{class:"px-[24rpx] py-[14rpx] bg-white"},{default:n((()=>[m(t,{modelValue:E.value,"onUpdate:modelValue":e[0]||(e[0]=a=>E.value=a),placeholder:"请输入关键词搜索",height:"72","show-action":!1,onSearch:e[1]||(e[1]=a=>P())},null,8,["modelValue"])])),_:1}),m(l,{class:"main"},{default:n((()=>[m(l,{class:"main__left bg-white"},{default:n((()=>[m(u,{"scroll-y":"true",class:"h-full"},{default:n((()=>[m(l,{class:"category py-[20rpx] text-content"},{default:n((()=>[(o(!0),c(p,null,d(A.value,(a=>(o(),_(l,{class:h(["category-item",{"category-item--active":D.value.id==a.id}]),key:a.id,onClick:e=>(a=>{D.value=a})(a)},{default:n((()=>[x(k(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),m(l,{class:"main__right flex-1"},{default:n((()=>[m(u,{"scroll-y":"true",class:"h-full"},{default:n((()=>[m(l,{class:"p-[20rpx]"},{default:n((()=>{var a;return[(null==(a=D.value.skill)?void 0:a.length)?(o(),_(l,{key:0,class:"skills-list"},{default:n((()=>[(o(!0),c(p,null,d(D.value.skill,(a=>(o(),_(l,{class:"skills-list-item",key:a.id},{default:n((()=>[m(i,{to:`/packages/pages/chat/chat?type=3&id=${a.id}`,class:"flex items-center"},{default:n((()=>[m(r,{name:a.image,size:76},null,8,["name"]),m(l,{class:"flex-1 min-w-0 ml-[20rpx]"},{default:n((()=>[m(l,{class:"text-lg"},{default:n((()=>[x(k(a.name),1)])),_:2},1024),a.describe?(o(),_(l,{key:0,class:"line-clamp-2 text-xs text-content mt-[10rpx]"},{default:n((()=>[x(k(a.describe),1)])),_:2},1024)):j("v-if",!0)])),_:2},1024)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})):(o(),_(l,{key:1,class:"pt-[300rpx]"},{default:n((()=>[m(S,{text:"暂无数据～",mode:"list"})])),_:1}))]})),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"]),m(U)],64)}}}),[["__scopeId","data-v-89d184b7"]]);export{A as default};
