import{d as e,l as t,a,b as s,o as l,e as o,f as r,g as n,h as i,t as p,u as d,i as u,F as c,G as m,j as x,v as f,k as _}from"./index-c4e9cb21.js";import{_ as y}from"./u-read-more.a855151d.js";import{_ as k}from"./u-loading.5334235e.js";import{_ as w}from"./u-icon.9d0b6bc8.js";import{u as g,_ as h}from"./text-item.vue_vue_type_script_setup_true_lang.00f45e3c.js";import{p as C}from"./chat.ffb7aceb.js";import{_ as v}from"./_plugin-vue_export-helper.1b428a4d.js";const j=v(e({__name:"creation-history-item",props:{title:{default:""},time:{default:""},content:{default:""},overflow:{type:Boolean,default:!1},showCopy:{type:Boolean,default:!0},showRewrite:{type:Boolean,default:!1},showVoice:{type:Boolean,default:!1},recordId:null,index:null},emits:["click-title","copy","delete","rewrite"],setup(e,{emit:v}){const j=e,b=t(),{play:B,audioPlaying:I,pause:P,audioLoading:R}=g({api:C,dataTransform:e=>e.file_url,params:{records_id:j.recordId,content:j.index,type:1}});return(t,g)=>{const C=_,j=a(s("u-read-more"),y),V=a(s("u-loading"),k),z=a(s("u-icon"),w);return l(),o(C,{class:"create-record-item"},{default:r((()=>[n(C,{class:"flex items-center"},{default:r((()=>[n(C,{class:"text-lg line-clamp-1 font-medium",onClick:g[0]||(g[0]=t=>v("click-title",e.title))},{default:r((()=>[i(p(e.title),1)])),_:1})])),_:1}),n(C,{class:"flex items-center text-xs"},{default:r((()=>[n(C,{class:"text-muted mt-[10rpx] mr-auto"},{default:r((()=>[i(p(e.time),1)])),_:1})])),_:1}),n(C,{class:"mt-[10px] bg-page p-[20rpx] rounded-[14rpx]"},{default:r((()=>[n(C,null,{default:r((()=>[e.overflow?(l(),o(j,{key:0,toggle:!0},{default:r((()=>[n(C,{class:"indent-0 text-main"},{default:r((()=>[n(h,{"is-markdown":!!d(b).getChatConfig.is_markdown,content:e.content},null,8,["is-markdown","content"])])),_:1})])),_:1})):(l(),o(C,{key:1},{default:r((()=>[n(h,{"is-markdown":!!d(b).getChatConfig.is_markdown,content:e.content},null,8,["is-markdown","content"])])),_:1}))])),_:1}),n(C,{class:"flex justify-end"},{default:r((()=>[e.showVoice?(l(),u(c,{key:0},[d(I)?(l(),o(C,{key:1,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[26rpx] py-[10rpx] rounded-full text-content",onClick:d(P)},{default:r((()=>[n(z,{name:"volume"}),m("span",{class:"text-xs ml-[10rpx]"},"停止")])),_:1},8,["onClick"])):(l(),o(C,{key:0,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[26rpx] py-[10rpx] rounded-full text-content",onClick:d(B)},{default:r((()=>[d(R)?(l(),o(V,{key:0,mode:"flower",size:26})):(l(),o(z,{key:1,name:"volume"})),m("span",{class:"text-xs ml-[10rpx]"},"朗读")])),_:1},8,["onClick"]))],64)):x("v-if",!0),e.showRewrite?(l(),o(C,{key:1,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[26rpx] py-[10rpx] rounded-full text-content",onClick:g[1]||(g[1]=f((e=>v("rewrite")),["stop"]))},{default:r((()=>[n(z,{name:"edit-pen",class:"mr-[8rpx]"}),m("span",{class:"text-xs ml-[10rpx]"}," 重写")])),_:1})):x("v-if",!0),e.showCopy?(l(),o(C,{key:2,class:"mt-[20rpx] flex bg-white px-[26rpx] py-[10rpx] rounded-full text-content",onClick:g[2]||(g[2]=f((t=>v("copy",e.content)),["stop"]))},{default:r((()=>[n(z,{name:"file-text"}),m("span",{class:"text-xs ml-[10rpx]"}," 复制")])),_:1})):x("v-if",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-e378d5ff"]]);export{j as C};
