import{z as a,r as e,b7 as l,bc as s,d as u,b5 as r,w as o,o as t,e as n,f as v,g as i,R as c,n as d,u as p,h as f,t as y,k as _}from"./index-c4e9cb21.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const b=new Set,g=()=>{const u=a(null),r=e(!1),o=e(0),t=()=>{r.value=!0},n=()=>{r.value=!1},v=a=>{console.error(a),r.value=!1},i=()=>{var a;o.value=(null==(a=u.value)?void 0:a.duration)||0,0==o.value&&setTimeout((()=>{var a;o.value=(null==(a=u.value)?void 0:a.duration)||0}),100)},c=()=>{u.value=s(),b.add(u.value),u.value.onCanplay(i),u.value.onPlay(t),u.value.onEnded(n),u.value.onError(v),u.value.onStop(n)},d=a=>{u.value||c(),u.value.src=a},p=()=>{var a;null==(a=u.value)||a.stop()},f=()=>{b.forEach((a=>{a.paused||a.stop()}))};return l((()=>{r.value&&p(),u.value&&(u.value.destroy(),b.delete(u.value),u.value=null)})),{pause:p,pauseAll:f,play:async a=>{f(),u.value||c(),a&&d(a),u.value.play()},duration:o,isPlaying:r,setUrl:d}},w=m(u({__name:"audio-play",props:{url:null,color:{default:"#000"},bgColor:{default:"#fff"},reverse:{type:Boolean,default:!1}},setup(a){const e=a;r((e=>({"218fbccc":a.bgColor,fa4c2c42:a.color})));const{pause:l,play:s,duration:u,isPlaying:m,setUrl:b}=g(),w=()=>{m.value?l():s()};return o((()=>e.url),(a=>{a&&b(a)}),{immediate:!0}),(e,l)=>{const s=_;return t(),n(s,{class:d(["audio",{reverse:a.reverse}]),onClick:w},{default:v((()=>[i(s,{style:c({transform:`rotate(${a.reverse?"135deg":"-45deg"})`})},{default:v((()=>[i(s,{class:d(["wifi-symbol",{playing:p(m)}])},{default:v((()=>[i(s,{class:"wifi-circle first"}),i(s,{class:"wifi-circle second"}),i(s,{class:"wifi-circle third"})])),_:1},8,["class"])])),_:1},8,["style"]),i(s,{class:"duration"},{default:v((()=>[f(y(p(u)?Math.round(p(u))+'"':""),1)])),_:1})])),_:1},8,["class"])}}}),[["__scopeId","data-v-85bbeea2"]]);export{w as _,g as u};
