import{d as e,M as t,O as s,r as a,Q as l,c as n,a as r,b as u,o as c,e as o,f as i,g as p,h as m,t as f,n as d,R as x,v as _,u as y,k as g,J as b,T as v,l as k,j as h,i as w,F as j,m as C,G as O,L as I,U as L,V as U,y as F,A as D,x as S,W as V,C as z,D as A,E as T,H as $}from"./index-c4e9cb21.js";import{_ as B}from"./page-meta.0a6ed5a4.js";import{_ as J}from"./u-avatar.83c9bedc.js";import{u as N}from"./useCopy.c5769034.js";import{_ as P}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Q}from"./u-image.259ae993.js";import{_ as E}from"./u-button.d1dcbae7.js";import{_ as G}from"./u-icon.9d0b6bc8.js";import{_ as H}from"./router-navigate.7694f14d.js";import{i as M}from"./icon_copy.df22fa63.js";import{_ as R}from"./tabbar.vue_vue_type_script_setup_true_lang.de757f7b.js";import"./u-badge.4654495c.js";const W=P(e({__name:"user-info",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(e){t();const k=s(),{copy:h}=N(),w=a(!1),j=l();n((()=>w.value?j.primaryColor:"transparent"));return(t,s)=>{const a=r(u("u-avatar"),J),l=g,n=b,w=v;return c(),o(l,{class:"user-info mb-[-70rpx]"},{default:i((()=>[p(l,{class:"flex px-[50rpx] pb-[100rpx] justify-between pt-[40rpx]"},{default:i((()=>[e.isLogin?(c(),o(l,{key:0,class:"flex items-center",onClick:s[1]||(s[1]=e=>{return t="/packages/pages/user_set/user_set",void k.navigateTo(t);var t})},{default:i((()=>[p(a,{src:e.user.avatar,size:120},null,8,["src"]),p(l,{class:"text-btn-text ml-[20rpx]"},{default:i((()=>[p(l,{class:"flex items-center"},{default:i((()=>[p(l,{class:"text-2xl font-medium"},{default:i((()=>[m(f(e.user.nickname),1)])),_:1}),p(l,{class:d(["flex-none ml-[16rpx] text-xs text-white rounded-[6rpx] px-[10rpx] py-[6rpx]",{"text-[#F8C596]":e.user.is_member}]),style:x({background:e.user.is_member?"linear-gradient(90.00deg, #484848 0%, #101010 100%)":"#4073fa"})},{default:i((()=>[m(f(e.user.is_member?e.user.member_package_name||"VIP会员":"普通用户"),1)])),_:1},8,["class","style"])])),_:1}),p(l,{class:"text-xs mt-[18rpx]",onClick:s[0]||(s[0]=_((t=>y(h)(e.user.sn)),["stop"]))},{default:i((()=>[m(" 用户ID："+f(e.user.sn)+" ",1),p(n,{class:"underline"},{default:i((()=>[m("复制")])),_:1})])),_:1})])),_:1})])),_:1})):(c(),o(w,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:i((()=>[p(a,{src:"/static/images/user/default_avatar.png",size:120}),p(l,{class:"text-btn-text text-3xl ml-[20rpx]"},{default:i((()=>[m("未登录")])),_:1})])),_:1}))])),_:1})])),_:1})}}}),[["__scopeId","data-v-a4a7bf7a"]]),X=P(e({__name:"user-vip",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(e){const t=s(),a=k(),{getImageUrl:l}=k();return(s,n)=>{const d=r(u("u-image"),Q),x=g,_=r(u("u-button"),E),v=b,k=r(u("u-icon"),G),w=r(u("router-navigate"),H);return c(),o(x,{class:"user-vip mx-[20rpx] rounded-lg mb-[20rpx]"},{default:i((()=>[y(a).getIsShowVip?(c(),o(x,{key:0,class:"p-[30rpx] flex"},{default:i((()=>[p(d,{width:"80",height:"80",src:y(l)(e.content.icon),alt:""},null,8,["src"]),p(x,{class:"flex justify-between w-full"},{default:i((()=>[e.user.member_expired?(c(),o(x,{key:1,class:"ml-[20rpx] flex flex-col justify-between"},{default:i((()=>[p(x,{class:"text-[32rpx] text-[#55300F] font-medium"},{default:i((()=>[m(" 会员已过期 ")])),_:1}),p(x,{class:"text-[24rpx] text-[#6A3D15]"},{default:i((()=>[m(" 过期时间: "+f(e.user.member_end_time),1)])),_:1})])),_:1})):(c(),o(x,{key:0,class:"ml-[20rpx] flex flex-col justify-between"},{default:i((()=>[p(x,{class:"text-[32rpx] text-[#55300F] font-medium"},{default:i((()=>[m(f(e.user.is_member?"您已成为VIP会员":e.content.title),1)])),_:1}),p(x,{class:"text-[24rpx] text-[#6A3D15]"},{default:i((()=>[m(f(e.user.is_member?e.user.member_perpetual?"有效期至：永久":`有效期至：${e.user.member_end_time}`:e.content.sub_title),1)])),_:1})])),_:1})),e.isLogin?(c(),o(x,{key:2,class:"flex flex-col justify-center"},{default:i((()=>[y(a).getIsShowVip&&!e.user.member_perpetual?(c(),o(_,{key:0,shape:"circle",size:"medium",customStyle:{padding:"0 24rpx",height:"56rpx",background:"#333333",color:"#F8C596"},"hover-class":"none",onClick:n[0]||(n[0]=e=>{return s="/packages/pages/open_vip/open_vip",void t.navigateTo(s);var s})},{default:i((()=>[m(f(e.user.is_member?"立即续费":e.content.btn),1)])),_:1})):h("v-if",!0)])),_:1})):h("v-if",!0)])),_:1})])),_:1})):h("v-if",!0),p(w,{to:"/packages/pages/recharge/recharge"},{default:i((()=>[p(x,{class:"bg-white rounded-lg flex p-[30rpx] pr-[24rpx]"},{default:i((()=>[p(x,{class:"flex-1"},{default:i((()=>[p(x,null,{default:i((()=>[m("对话余额")])),_:1}),p(x,{class:"flex items-center mt-[20rpx]"},{default:i((()=>[p(v,{class:"text-primary"},{default:i((()=>[m(f(e.user.balance||0)+"条 ",1)])),_:1})])),_:1})])),_:1}),y(a).getDrawConfig.is_open?(c(),o(x,{key:0,class:"flex-1"},{default:i((()=>[p(x,null,{default:i((()=>[m("绘画余额")])),_:1}),p(x,{class:"flex items-center mt-[20rpx]"},{default:i((()=>[p(v,{class:"text-primary"},{default:i((()=>[m(f(e.user.balance_draw||0)+"次 ",1)])),_:1})])),_:1})])),_:1})):h("v-if",!0),p(x,{class:"text-muted flex"},{default:i((()=>[p(k,{name:"arrow-right"})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-def6add3"]]),q=P(e({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const t=e,{getImageUrl:s}=k(),a=n((()=>{var e;return(null==(e=t.content.data)?void 0:e.filter((e=>!e.is_show||"1"==e.is_show)))||[]})),l=(e,t)=>{e.name=t,I(e,!0)};return(t,n)=>{const o=r(u("u-image"),Q),i=r(u("u-icon"),G);return c(),w("div",{class:"my-service bg-white mx-[20rpx] mb-[20rpx] rounded-lg"},[1==e.content.style?(c(),w("div",{key:0,class:"flex flex-wrap pt-[40rpx] pb-[20rpx]"},[(c(!0),w(j,null,C(y(a),((e,t)=>(c(),w("div",{key:t,class:"flex flex-col items-center w-1/4 mb-[15px]",onClick:t=>l(e.link,e.name)},[p(o,{width:"52",height:"52",src:y(s)(e.image),alt:""},null,8,["src"]),O("div",{class:"mt-[7px]"},f(e.name),1)],8,["onClick"])))),128))])):h("v-if",!0),2==e.content.style?(c(),w("div",{key:1},[(c(!0),w(j,null,C(y(a),((e,t)=>(c(),w("div",{key:t,class:"flex items-center nav-item h-[100rpx] px-[24rpx]",onClick:t=>l(e.link,e.name)},[p(o,{width:"48",height:"48",src:y(s)(e.image),alt:""},null,8,["src"]),O("div",{class:"ml-[20rpx] flex-1"},f(e.name),1),O("div",{class:"text-muted"},[p(i,{name:"arrow-right"})])],8,["onClick"])))),128))])):h("v-if",!0)])}}}),[["__scopeId","data-v-b46076f2"]]),K=e({__name:"user-banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=k();return(s,a)=>{const l=r(u("u-image"),Q),n=L,m=U,f=g;return e.content.data.length&&e.content.enabled?(c(),o(f,{key:0,class:"banner h-[200rpx] mx-[20rpx] mb-[20rpx] translate-y-0"},{default:i((()=>[p(m,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:i((()=>[(c(!0),w(j,null,C(e.content.data,((e,s)=>(c(),o(n,{key:s,onClick:t=>{return s=e.link,void I(s);var s}},{default:i((()=>[p(l,{mode:"aspectFit",width:"100%",height:"100%",src:y(t)(e.image),"border-radius":14},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):h("v-if",!0)}}}),Y=P(e({__name:"user-bottom",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){t();const{copy:s}=N();return(t,a)=>{const l=b,n=F,r=g;return c(),o(r,{class:"user-bottom flex items-center p-[16px] mt-[20px] text-center"},{default:i((()=>[p(r,{class:"text-sm w-full text-content"},{default:i((()=>{var t;return[p(l,{class:""},{default:i((()=>[m(f(e.content.title),1)])),_:1}),p(l,{class:"mr-[4px]"},{default:i((()=>[m(f(e.content.content),1)])),_:1}),(null==(t=e.content)?void 0:t.canCopy)?(c(),o(n,{key:0,src:y(M),class:"w-[28rpx] h-[28rpx] align-middle",onClick:a[0]||(a[0]=t=>y(s)(e.content.content))},null,8,["src"])):h("v-if",!0)]})),_:1})])),_:1})}}}),[["__scopeId","data-v-78c368f0"]]),Z=e({__name:"user",setup(e){const t=D({pages:[]}),s=async()=>{const e=await $({id:1});t.pages=JSON.parse(e.data)},a=S(),{userInfo:l,isLogin:n}=V(a);return z((()=>{s(),a.getUser()})),A((async()=>{s(),a.getUser(),T()})),(e,s)=>{const a=r(u("page-meta"),B),m=r(u("w-user-info"),W),f=r(u("w-user-vip"),X),d=r(u("w-my-service"),q),x=r(u("w-user-banner"),K),_=r(u("w-user-bottom"),Y),b=g,v=r(u("tabbar"),R);return c(),w(j,null,[p(a,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),p(b,{class:"user pb-[20rpx]"},{default:i((()=>[(c(!0),w(j,null,C(t.pages,((e,t)=>(c(),o(b,{key:t},{default:i((()=>["user-info"==e.name?(c(),o(m,{key:0,content:e.content,styles:e.styles,user:y(l),"is-login":y(n)},null,8,["content","styles","user","is-login"])):h("v-if",!0),"open-vip"==e.name?(c(),o(f,{key:1,content:e.content,styles:e.styles,user:y(l),"is-login":y(n)},null,8,["content","styles","user","is-login"])):h("v-if",!0),"my-service"==e.name?(c(),o(d,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):h("v-if",!0),"user-banner"==e.name?(c(),o(x,{key:3,content:e.content,styles:e.styles},null,8,["content","styles"])):h("v-if",!0),"user-bottom"==e.name?(c(),o(_,{key:4,content:e.content,styles:e.styles},null,8,["content","styles"])):h("v-if",!0)])),_:2},1024)))),128))])),_:1}),p(v)],64)}}});export{Z as default};
