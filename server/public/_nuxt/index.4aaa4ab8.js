import{_ as j}from"./nuxt-link.a0b868a3.js";import{a as D,b as E,q as L,cM as b,o as t,h as e,f as g,w,u as _,e as r,t as o,F as x,r as $,y as a,j as V,z as n,c as C,B as m,a2 as A}from"./entry.c7e0e7b4.js";import{u as F}from"./asyncData.f818c9f5.js";import{t as M,g as I}from"./recharge.573a4938.js";import{u as q}from"./useCopy.162cbe26.js";import{E as z}from"./index.ade63ee3.js";import"./index.fa4f9017.js";import"./index.cb3770be.js";const J={key:0,class:"p-4"},O={class:"font-bold text-2xl"},U={class:"mr-[8px]"},X={class:"text-[#999] font-normal text-sm"},Y={class:"grid grid-cols-2 gap-4 mt-[23px]"},G=["src"],H={class:"flex-1"},K={class:"font-medium text-xl"},P={class:"text-[14px] mt-[8px] flex flex-wrap text-tx-secondary"},Q={key:0},R={class:"text-error"},W={key:1},Z={class:"text-error"},ss={key:0},ts={class:"text-error"},es={key:1},as={key:2},rs={class:"text-error"},os={key:0},ns={class:"text-error"},cs={key:1},ds={key:2},_s={class:"text-error"},ls={key:0},ps={class:"text-error"},us={key:1},is={key:2},ws={class:"text-error"},xs={class:"text-primary text-[14px] mt-[8px]"},ys=r("div",{class:"bg-[#F8F8F8] p-[20px] flex rounded-md min-h-[120px] justify-center items-center text-tx-regular"}," 敬请期待 ",-1),Ns=D({__name:"index",async setup(hs){let y,h;const N=E(),c=L({title:"",subTitle:"",content:[],originalContent:[]}),k=async()=>{c.value.originalContent=await I()},v=async()=>{const p=await A({id:10}),l=JSON.parse(p.data)[0].content,u={},i=[];for(const d of c.value.originalContent)delete d.image,u[d.type]=d;for(const d of l==null?void 0:l.data.filter(f=>f.show))d.type in u&&i.push({...d,...u[d.type]});console.log(i),c.value.originalContent=[],c.value.content=i,c.value.title=l.title,c.value.subTitle=l.subTitle},{copy:S}=q(),B=async()=>{const{share_id:p}=await M({channel:4});S(`${window.origin}/?cid=${p}&share_id=${p}`),await k(),await v()};return[y,h]=b(()=>F(()=>k(),"$YCI9aCBExL")),await y,h(),[y,h]=b(()=>F(()=>v(),"$Xg8wj5d6FS")),await y,h(),(p,l)=>{const u=j,i=V;return t(),e("div",null,[g(i,{name:"default"},{default:w(()=>[g(_(z),{class:"!rounded-[12px] bg-white"},{default:w(()=>{var d,f;return[(f=(d=_(c))==null?void 0:d.content)!=null&&f.length?(t(),e("div",J,[r("span",O,[r("span",U,o(_(c).title),1),r("span",X,o(_(c).subTitle),1)]),r("div",Y,[(t(!0),e(x,null,$(_(c).content,(s,T)=>(t(),e("div",{class:"bg-[#F8F8F8] p-[20px] flex rounded-md",key:T},[s.image?(t(),e("img",{key:0,class:"w-[50px] h-[50px] mr-[10px]",src:_(N).getImageUrl(s.image),alt:""},null,8,G)):a("",!0),r("div",H,[r("div",K,o((s==null?void 0:s.customName)||s.name),1),r("div",P,[s.type==1?(t(),e(x,{key:0},[n(" 每日签到，获得 "),s.rewards?(t(),e("span",Q,[r("span",R,o(s.rewards),1),n("条对话 ")])):a("",!0),s.draw_rewards?(t(),e("span",W,[r("span",Z,o(s.draw_rewards),1),n("条绘画 ")])):a("",!0)],64)):a("",!0),s.type==2?(t(),e(x,{key:1},[n(" 邀请1人，获得 "),s.rewards?(t(),e("span",ss,[r("span",ts,o(s.rewards),1),n("条对话 ")])):a("",!0),s.rewards&&s.draw_rewards?(t(),e("span",es," ， ")):a("",!0),s.draw_rewards?(t(),e("span",as,[r("span",rs,o(s.draw_rewards),1),n("条绘画 ")])):a("",!0)],64)):a("",!0),s.type==3?(t(),e(x,{key:2},[n(" 分享1次，获得 "),s.rewards?(t(),e("span",os,[r("span",ns,o(s.rewards),1),n("条对话 ")])):a("",!0),s.rewards&&s.draw_rewards?(t(),e("span",cs," ， ")):a("",!0),s.draw_rewards?(t(),e("span",ds,[r("span",_s,o(s.draw_rewards),1),n("条绘画 ")])):a("",!0)],64)):a("",!0),s.type==4?(t(),e(x,{key:3},[n(" 分享1次，获得 "),s.rewards?(t(),e("span",ls,[r("span",ps,o(s.rewards),1),n("条对话 ")])):a("",!0),s.rewards&&s.draw_rewards?(t(),e("span",us," ， ")):a("",!0),s.draw_rewards?(t(),e("span",is,[r("span",ws,o(s.draw_rewards),1),n("条绘画 ")])):a("",!0)],64)):a("",!0)]),r("div",xs," 进度："+o(s==null?void 0:s.num)+"/"+o(s==null?void 0:s.max)+" "+o(s.type==2?"人":"次"),1)]),s.type==4?(t(),C(u,{key:1,to:"/app/drawing"},{default:w(()=>[g(_(m),{type:"primary",class:"self-center"},{default:w(()=>[n(" 去分享 ")]),_:1})]),_:1})):(t(),C(_(m),{key:2,type:"primary",class:"self-center",onClick:B},{default:w(()=>[n(" 点击复制 ")]),_:1}))]))),128)),ys])])):a("",!0)]}),_:1})]),_:1})])}}});export{Ns as default};
