import{E as R}from"./el-divider.ee6e1291.js";import{E as $}from"./index.ade63ee3.js";import{a as z,S as f,O as T,b as V,q as u,a1 as x,o as D,c as F,w as s,e,f as n,z as v,u as o,t as a,cT as L,K as N,B as j}from"./entry.c7e0e7b4.js";import{_ as Q}from"./index.ae48457a.js";/* empty css                     */import{u as q}from"./useCopy.162cbe26.js";import{a as A}from"./download.76c7fb53.js";import{Q as H}from"./qrcode.vue.esm.3fb480da.js";const K={class:"h-[70vh] flex flex-col"},O={class:"flex-1 min-h-0"},P={class:"flex justify-center bg-[#F2F3F6]"},U=["src"],W={class:"px-[16px] mt-[12px]"},G={class:"title text-[16px] font-medium text-[#101010] line-clamp-2"},J={class:"text-[#101010] mt-[10px] line-clamp-1"},M={class:"flex px-[16px] pt-[10px] pb-[30px]"},X={class:"flex items-center"},Y=["src"],Z={class:"ml-2"},ee={class:"mt-[16px] font-medium text-[#101010] text-xl"},oe={class:"mt-[10px] text-primary"},te={class:"ml-auto p-[10px] bg-white rounded-lg"},se={class:"flex"},me=z({__name:"posterPop",setup(ne,{expose:h}){const r=f(),p=f(),l=T(),{getWebsiteConfig:g,config:w}=V(),t=u({}),y=i=>{r.value.open(),t.value=i,console.log(i)},b=x(()=>`${window.origin}/mobile?user_sn=${l.userInfo.sn}`),{copy:k}=q(),B=x(()=>`${window.origin}/pc?user_sn=${l.userInfo.sn}`),_=u(!1),C=async()=>{try{_.value=!0,await A(p.value)}catch{N.msgError("下载失败，请重试")}finally{_.value=!1}};return h({open:y}),(i,d)=>{const E=R,S=$,m=j,I=Q;return D(),F(I,{ref_key:"popRef",ref:r,width:"auto","click-modal-close":!0,confirmButtonText:"",cancelButtonText:""},{footer:s(()=>[e("div",se,[n(m,{class:"flex-1",type:"primary",plain:"",size:"large",onClick:d[0]||(d[0]=c=>o(k)(o(B)))},{default:s(()=>[v(" 复制链接 ")]),_:1}),n(m,{class:"flex-1",type:"primary",size:"large",onClick:C},{default:s(()=>[v(" 下载海报 ")]),_:1})])]),default:s(()=>[e("div",K,[e("div",O,[n(S,null,{default:s(()=>{var c;return[e("div",{ref_key:"posterRef",ref:p,class:"w-[440px] bg-[#f5f5f5]"},[e("div",P,[e("img",{class:"max-h-[440px] object-contain",src:o(t).thumbnail||o(t).image,alt:""},null,8,U)]),e("div",W,[e("div",G,a(((c=o(t))==null?void 0:c.prompts_cn)||o(t).original_prompts.prompt),1),e("div",J,a(o(t).original_prompts.prompt_en),1)]),n(E,{"border-style":"dashed"}),e("div",M,[e("div",null,[e("div",X,[e("img",{class:"w-[34px] h-[34px] rounded-full",src:o(l).userInfo.avatar},null,8,Y),e("div",Z,a(o(l).userInfo.nickname),1)]),e("div",ee,a(o(g).pc_title),1),e("div",oe,a(o(L)(o(w).current_domain)),1)]),e("div",te,[n(H,{value:o(b),size:100,margin:1},null,8,["value"])])])],512)]}),_:1})])])]),_:1},512)}}});export{me as _};
