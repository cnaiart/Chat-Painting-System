import{E as z,a as A}from"./index.d6409eae.js";import{E as F}from"./index.0b9306dd.js";import{E as M}from"./el-result.e727ee37.js";import{E as U}from"./index.ade63ee3.js";import{a as q,q as i,L as R,M as G,o as t,h as o,e as f,N as H,f as p,w as r,z as b,F as m,r as y,t as _,y as S,u as J,B as O,c as Q,k as P,p as W,l as X}from"./entry.c7e0e7b4.js";import{E as Y}from"./index.222a6e13.js";/* empty css                *//* empty css                        *//* empty css                     *//* empty css                  */import{b as Z,c as ee}from"./drawing.3efa226d.js";import{e as te}from"./empty_news.b8b25207.js";import{_ as oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./strings.d42ea6f6.js";import"./index.42e7de0b.js";import"./debounce.2af106a8.js";import"./refs.94480413.js";const ae=u=>(W("data-v-b5d13628"),u=u(),X(),u),le={class:"dialog"},se=ae(()=>f("span",{class:"text-xl font-medium text-[#101010]"},"关键词推荐",-1)),re={class:"keyword-title text-base text-[#666]"},ne=["onClick"],pe={key:0,class:"keyword-container"},ue={key:0,class:"keyword-title text-base text-[#666]"},de=["onClick"],ce={key:1,class:"flex items-center justify-center w-full h-full"},ie={class:"dialog-footer"},me=q({__name:"keyword-suggestion",props:{modelValue:{default:""}},emits:["update:modelValue"],setup(u,{emit:k}){const g=u,d=i(!1),w=i(0),h=i([]),n=i({prompt:[],cate_prompt:[]}),a=i([]);R(()=>{g.modelValue==""&&(a.value=[])});const V=l=>{const s=a.value.findIndex(x=>x==l);if(s>=0){a.value.splice(s,1);return}a.value.push(l)},B=()=>{if(d.value=!1,g.modelValue.trim()=="")k("update:modelValue",a.value.join(","));else{const l=g.modelValue+","+a.value.join(",");k("update:modelValue",l)}a.value=[]},I=()=>{d.value=!1,k("update:modelValue",a.value.join(",")+","),a.value=[]},N=()=>{d.value=!0},$=async()=>{try{h.value=await Z(),await C()}catch(l){console.log("获取关键词分类错误",l)}},C=async()=>{try{n.value=await ee({id:h.value[w.value].id})}catch(l){console.log("获取关键词错误",l)}};return G(()=>{$()}),(l,s)=>{const x=A,j=z,T=F,D=M,K=U,E=O,L=Y;return t(),o("div",le,[f("div",{class:"dialog__trigger",onClick:N},[H(l.$slots,"trigger",{},void 0,!0)]),p(L,{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=e=>d.value=e),width:"920px","align-center":!0,style:{"border-radius":"12px"}},{header:r(()=>[se]),footer:r(()=>[f("span",ie,[p(E,{type:"primary",onClick:s[1]||(s[1]=e=>B())},{default:r(()=>[b(" 添加到文本描述 ")]),_:1}),p(E,{type:"primary",class:"ml-[10px]",plain:!0,onClick:s[2]||(s[2]=e=>I())},{default:r(()=>[b(" 替换当前文本描述 ")]),_:1})])]),default:r(()=>[p(j,{modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=e=>w.value=e),onTabChange:C},{default:r(()=>[(t(!0),o(m,null,y(h.value,(e,c)=>(t(),Q(x,{key:c,label:e.name,name:c},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),p(K,{height:"400px"},{default:r(()=>[n.value.prompt.length||n.value.cate_prompt.length?(t(),o(m,{key:0},[(t(!0),o(m,null,y(n.value.cate_prompt,(e,c)=>(t(),o("div",{key:c,class:"keyword-container"},[f("div",re,_(e.name)+"("+_(e==null?void 0:e.prompt.length)+") ",1),(t(!0),o(m,null,y(e.prompt,v=>(t(),o("div",{key:v.text,class:P(["keyword-item",{"keyword-item-active":a.value.includes(v.prompt_en)}]),onClick:_e=>V(v.prompt_en)},_(v.prompt),11,ne))),128))]))),128)),n.value.prompt.length?(t(),o("div",pe,[n.value.cate_prompt.length?(t(),o("div",ue," 其它("+_(n.value.prompt.length)+") ",1)):S("",!0),(t(!0),o(m,null,y(n.value.prompt,e=>(t(),o("div",{key:e.text,class:P(["keyword-item",{"keyword-item-active":a.value.includes(e.prompt_en)}]),onClick:c=>V(e.prompt_en)},_(e.prompt),11,de))),128))])):S("",!0)],64)):(t(),o("div",ce,[p(D,{title:"提示","sub-title":"暂无对应关键词"},{icon:r(()=>[p(T,{class:"w-[200px] h-[200px]",src:J(te)},null,8,["src"])]),default:r(()=>[b("> ")]),_:1})]))]),_:1})]),_:1},8,["modelValue"])])}}});const $e=oe(me,[["__scopeId","data-v-b5d13628"]]);export{$e as default};
