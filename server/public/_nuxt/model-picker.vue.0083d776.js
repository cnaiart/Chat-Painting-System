import{a as E,q as S,X as B,b as I,a1 as N,M as D,o as e,c as M,w as k,e as l,k as F,h as o,F as g,r as $,t as L,f as T,z as x,B as R,O as U,C as z,u as n,x as A,y as O}from"./entry.c7e0e7b4.js";import{E as j}from"./index.222a6e13.js";/* empty css                  */import{g as q}from"./recharge.573a4938.js";import{E as P,a as X}from"./index.ba068d27.js";/* empty css                  *//* empty css               *//* empty css                     *//* empty css                  */import{g as G}from"./chat.bab8475b.js";import{b as H}from"./index.fa4f9017.js";const J={class:"my-header"},K=["id"],Q={class:"min-h-[250px] text-tx-primary"},W=l("div",null,"你可以通过以下渠道获取对话条数：",-1),Y={class:"mr-[10px] font-medium"},Z={class:"ml-auto"},ke=E({__name:"index",setup(C,{expose:b}){const d=S(!1),p=()=>{d.value=!0},c=()=>{d.value=!1},t=B(),f=I(),V=_=>{c(),t.push(_)},r=S(),s=async()=>{r.value=await q()},m=N(()=>[{title:"免费获取任务奖励",btnText:"前往分享",path:"/recharge",show:r.value.length>0},{title:"余额充值",btnText:"前往充值",path:"/openvip?type=recharge",show:f.getIsShowRecharge},{title:"开通会员",btnText:"开通会员",path:"/openvip",show:f.getIsShowVip}].filter(i=>i.show));return D(()=>{s()}),b({open:p,close:c}),(_,i)=>{const v=R,y=j;return e(),M(y,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=a=>d.value=a),width:"450px"},{header:k(({titleId:a,titleClass:u})=>[l("div",J,[l("div",{id:a,class:F([u,"font-medium"])}," 对话余额不足 ",10,K)])]),default:k(()=>[l("div",Q,[l("div",null,[W,(e(!0),o(g,null,$(m.value,(a,u)=>(e(),o("div",{class:"mt-[20px] flex items-center",key:u},[l("div",Y,L(a.title),1),l("div",Z,[T(v,{type:"primary",round:"",onClick:w=>V(a.path)},{default:k(()=>[x(L(a.btnText),1)]),_:2},1032,["onClick"])])]))),128))])])]),_:1},8,["modelValue"])}}}),ee={class:"flex items-center py-[10px]"},te={key:0,class:"ml-[10px] text-xs text-[#999999]"},se={key:0},oe={class:"text-primary"},ae={key:1,class:"text-xs text-[#999999]"},ne={key:1,class:"ml-[10px] text-xs text-[#999999]"},le={key:0,class:"ml-[10px] text-[#999999]"},re={key:1,class:"ml-[10px] text-[#999999]"},ce=l("span",{class:"text-primary"},"1",-1),ge=E({__name:"model-picker",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(C,{emit:b}){const d=C,p=U(),c=H(d,"modelValue",b),t=z({current:{balance:1,key:"",member_free:!1,model:"",default:!1},modelList:[]}),f=async()=>{var r;try{const s=await G();t.modelList=s,t.current=s.find(m=>m.default)||s[0],c.value=((r=t.current)==null?void 0:r.key)||""}catch(s){console.log("获取聊天模型数据错误=>",s)}},V=r=>{t.current=t.modelList.find(s=>s.key==r)};return f(),(r,s)=>{var i,v,y,a,u,w;const m=X,_=P;return e(),o("div",ee,[n(t).modelList.length?(e(),o(g,{key:0},[T(_,{class:"flex-1 min-w-[210px]",modelValue:n(c),"onUpdate:modelValue":s[0]||(s[0]=h=>A(c)?c.value=h:null),filterable:"",onChange:V},{default:k(()=>[(e(!0),o(g,null,$(n(t).modelList,h=>(e(),M(m,{value:h.key,label:h.alias,key:h.key},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),(v=(i=n(t))==null?void 0:i.current)!=null&&v.member_free?(e(),o("div",ne,"会员免费")):(e(),o("div",te,[(a=(y=n(t))==null?void 0:y.current)!=null&&a.balance?(e(),o("span",se,[x(" 消耗 "),l("span",oe,L((w=(u=n(t))==null?void 0:u.current)==null?void 0:w.balance),1),x(" 条对话次数 ")])):(e(),o("div",ae,"免费"))]))],64)):n(p).isLogin?(e(),o(g,{key:1},[n(p).userInfo.is_member&&n(p).userInfo.member_expired!==1?(e(),o("div",le," 会员免费 ")):(e(),o("div",re,[x(" 消耗 "),ce,x(" 条对话次数 ")]))],64)):O("",!0)])}}});export{ge as _,ke as a};
