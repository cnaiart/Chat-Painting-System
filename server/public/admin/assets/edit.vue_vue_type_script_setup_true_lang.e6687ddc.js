import{B as g,C as E,t as w,D as b}from"./element-plus.38726bbd.js";import{_ as y}from"./picker.a9db97c4.js";import{e as k,a as x}from"./category.49b27431.js";import{P as R}from"./index.1c6c033d.js";import{d as h,s as i,r as A,e as S,_ as U,o as q,c as P,V as u,M as l,a as c,u as I}from"./@vue.581f5ce0.js";const N={class:"edit-popup"},M=c("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u6392\u8D8A\u524D\u9762",-1),O=h({__name:"edit",emits:["success","close"],setup(T,{expose:f,emit:m}){const p=i(),n=i(),r=A("add"),_=S(()=>r.value=="edit"?"\u7F16\u8F91\u7C7B\u522B":"\u65B0\u589E\u7C7B\u522B"),o=U({id:"",name:"",sort:0,status:1,image:""}),F={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},v=async()=>{var t,e;await((t=p.value)==null?void 0:t.validate()),r.value=="edit"?await k(o):await x(o),(e=n.value)==null||e.close(),m("success")},B=()=>{m("close")};return f({open:(t="add")=>{var e;r.value=t,(e=n.value)==null||e.open()},setFormData:async t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e])}}),(t,e)=>{const d=g,s=E,C=y,V=w,D=b;return q(),P("div",N,[u(R,{ref_key:"popupRef",ref:n,title:I(_),async:!0,width:"550px",onConfirm:v,onClose:B},{default:l(()=>[u(D,{class:"ls-form",ref_key:"formRef",ref:p,rules:F,model:o,"label-width":"90px"},{default:l(()=>[u(s,{label:"\u5206\u7C7B\u540D\u79F0",prop:"name"},{default:l(()=>[u(d,{class:"ls-input",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),u(s,{label:"\u5206\u7C7B\u56FE\u6807",prop:"image"},{default:l(()=>[u(C,{modelValue:o.image,"onUpdate:modelValue":e[1]||(e[1]=a=>o.image=a)},null,8,["modelValue"])]),_:1}),u(s,{label:"\u6392\u5E8F",prop:"sort"},{default:l(()=>[c("div",null,[u(d,{class:"ls-input",modelValue:o.sort,"onUpdate:modelValue":e[2]||(e[2]=a=>o.sort=a)},null,8,["modelValue"]),M])]),_:1}),u(s,{label:"\u72B6\u6001",prop:"sort"},{default:l(()=>[u(V,{modelValue:o.status,"onUpdate:modelValue":e[3]||(e[3]=a=>o.status=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{O as _};
