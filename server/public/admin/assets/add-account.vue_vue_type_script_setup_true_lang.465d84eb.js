import{P as V}from"./index.1c6c033d.js";import{C as w,B as C,D as E}from"./element-plus.38726bbd.js";import{_ as b}from"./picker.a9db97c4.js";import{d as g,s as i,_ as A,o as v,L as D,M as l,a as k,V as o,a4 as y}from"./@vue.581f5ce0.js";import{a as U}from"./consumer.b7c7cab4.js";import{f as q}from"./index.0aa35fa2.js";const R={class:"pr-8"},z=g({__name:"add-account",props:{show:{type:Boolean,required:!0},value:{type:[Number,String],required:!0}},emits:["close","success","confirm"],setup(x,{expose:f,emit:m}){const p=i(),e=A({avatar:"",nickname:"",mobile:"",email:"",real_name:"",password:"",password_confirm:""}),d=i(),B={avatar:[{required:!0,message:"\u8BF7\u9009\u62E9\u5934\u50CF",trigger:"blur"}],nickname:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u5BC6\u7801",trigger:"blur"}],password_confirm:[{required:!0,validator:(r,u,n)=>{e.password&&(u||n(new Error("\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801")),u!==e.password&&n(new Error("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4!"))),n()},trigger:"blur"}]},F=async()=>{var r;await((r=p.value)==null?void 0:r.validate());try{await U(e),m("success"),m("close"),q.msgSuccess("\u64CD\u4F5C\u6210\u529F")}catch(u){console.log("\u521B\u5EFA\u7528\u6237\u5931\u8D25=>",u)}};return f({open:()=>{var r;(r=d.value)==null||r.open()}}),(r,u)=>{const n=b,t=w,s=C,_=E,c=V;return v(),D(c,{ref_key:"popupRef",ref:d,title:"\u521B\u5EFA\u7528\u6237",width:"500px",async:!0,onConfirm:F},{default:l(()=>[k("div",R,[o(_,{ref_key:"formRef",ref:p,model:e,"label-width":"120px",rules:B,onSubmit:u[7]||(u[7]=y(()=>{},["prevent"]))},{default:l(()=>[o(t,{label:"\u7528\u6237\u6635\u79F0",prop:"avatar"},{default:l(()=>[o(n,{modelValue:e.avatar,"onUpdate:modelValue":u[0]||(u[0]=a=>e.avatar=a)},null,8,["modelValue"])]),_:1}),o(t,{label:"\u7528\u6237\u6635\u79F0",prop:"nickname"},{default:l(()=>[o(s,{modelValue:e.nickname,"onUpdate:modelValue":u[1]||(u[1]=a=>e.nickname=a),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u624B\u673A\u53F7",prop:"mobile"},{default:l(()=>[o(s,{modelValue:e.mobile,"onUpdate:modelValue":u[2]||(u[2]=a=>e.mobile=a),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801\uFF0C\u624B\u673A\u53F7\u548C\u90AE\u7BB1\u5FC5\u586B\u4E00\u4E2A"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u90AE\u7BB1",prop:"email"},{default:l(()=>[o(s,{modelValue:e.email,"onUpdate:modelValue":u[3]||(u[3]=a=>e.email=a),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF0C\u90AE\u7BB1\u548C\u624B\u673A\u53F7\u5FC5\u586B\u4E00\u4E2A"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u771F\u5B9E\u59D3\u540D",prop:"real_name"},{default:l(()=>[o(s,{modelValue:e.real_name,"onUpdate:modelValue":u[4]||(u[4]=a=>e.real_name=a),placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u767B\u5F55\u5BC6\u7801",prop:"password"},{default:l(()=>[o(s,{modelValue:e.password,"onUpdate:modelValue":u[5]||(u[5]=a=>e.password=a),placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"password_confirm"},{default:l(()=>[o(s,{modelValue:e.password_confirm,"onUpdate:modelValue":u[6]||(u[6]=a=>e.password_confirm=a),placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},512)}}});export{z as _};
