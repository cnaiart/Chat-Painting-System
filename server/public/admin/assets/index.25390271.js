import{B as Z,C as ee,K as te,L as oe,w as T,D as ae,M as le,N as se,S as ue,O as ne,P as ie,l as re}from"./element-plus.38726bbd.js";import{_ as me}from"./index.vue_vue_type_script_setup_true_lang.c6066b25.js";import{c as A,a as pe,_ as ce}from"./chat_records.2391ec1c.js";import{f as $,_ as _e}from"./index.0aa35fa2.js";import{_ as de}from"./index.vue_vue_type_script_setup_true_lang.42418fb0.js";import{_ as fe}from"./index.vue_vue_type_script_setup_true_lang.625bdcec.js";import{u as ke}from"./vue-router.f90229e4.js";import{d as K,_ as ye,s as S,r as ve,ar as Fe,o as s,c as P,V as e,M as o,ac as U,u as i,L as r,S as F,a as c,O as E,U as f,T as u,W as be,k as he}from"./@vue.581f5ce0.js";import{u as Ce}from"./usePaging.2d3fb421.js";import{_ as Ee}from"./replyPop.vue_vue_type_script_setup_true_lang.a5e591da.js";import{_ as ge}from"./auditPop.vue_vue_type_script_setup_true_lang.7640348f.js";import"./lodash-es.b552e321.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.788ba4d8.js";import"./@element-plus.048d13fe.js";import"./dayjs.3bbbdfdd.js";import"./axios.ef5f3479.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.1c6c033d.js";import"./vue-drag-resize.3665149e.js";import"./lodash.ccf63c29.js";import"./pinia.8de84ecb.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.7bd56a8d.js";import"./color.4d72ae60.js";import"./clone.f3914b59.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.e3c4d4cf.js";import"./ms.a9ae1d6d.js";import"./nprogress.db25c43d.js";import"./vue-clipboard3.37da43ca.js";import"./clipboard.51333a27.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.18a086c3.js";const Be=u("\u67E5\u8BE2"),we=u("\u91CD\u7F6E"),De={class:"mb-4"},xe=u(" \u6279\u91CF\u5220\u9664 "),Ve={class:"flex items-center"},Re={class:"ml-4"},Te={class:"flex items-center"},Ae=u(" \u67E5\u770B "),$e=["onClick"],Se=u(" \u67E5\u770B\u56DE\u590D "),Pe=u(" \u5220\u9664 "),Ue={class:"flex justify-end mt-4"},Ke=K({name:"dialogueRecord"}),Vt=K({...Ke,setup(Le){const L=ke().query.type,a=ye({type:L||"1",user_info:"",keyword:"",censor_status:"",start_time:"",end_time:"",network:""}),g=S(),B=S(),b=ve([]),N=n=>{g.value.open(n)},z=n=>{B.value.open(n)},I=n=>{b.value=n},{pager:_,getLists:h,resetPage:C,resetParams:M}=Ce({fetchFun:A,params:a}),w=async n=>{await $.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await pe({id:n}),$.msgSuccess("\u64CD\u4F5C\u6210\u529F"),h()},O=n=>{re.alert(n,"\u8054\u7F51\u5185\u5BB9",{customStyle:{maxWidth:"1200px"}})};return h(),(n,l)=>{const D=Z,d=ee,m=te,x=oe,q=fe,k=T,W=de,j=ae,V=le,p=se,G=_e,H=ce,J=T,v=ue,Q=ne,X=me,R=Fe("perms"),Y=ie;return s(),P("div",null,[e(V,{class:"!border-none",shadow:"never"},{default:o(()=>[e(j,{ref:"formRef",class:"mb-[-16px]",model:a,inline:!0},{default:o(()=>[e(d,{label:"\u7528\u6237\u4FE1\u606F"},{default:o(()=>[e(D,{class:"w-[280px]",modelValue:a.user_info,"onUpdate:modelValue":l[0]||(l[0]=t=>a.user_info=t),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237ID/\u7528\u6237\u6635\u79F0",clearable:"",onKeyup:U(i(C),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"\u5173\u952E\u8BCD"},{default:o(()=>[e(D,{class:"w-[280px]",modelValue:a.keyword,"onUpdate:modelValue":l[1]||(l[1]=t=>a.keyword=t),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",clearable:"",onKeyup:U(i(C),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"\u5BA1\u6838\u72B6\u6001"},{default:o(()=>[e(x,{class:"w-[280px]",modelValue:a.censor_status,"onUpdate:modelValue":l[2]||(l[2]=t=>a.censor_status=t)},{default:o(()=>[e(m,{label:"\u5168\u90E8",value:""}),e(m,{label:"\u672A\u5BA1\u6838",value:0}),e(m,{label:"\u5408\u89C4",value:1}),e(m,{label:"\u4E0D\u5408\u89C4",value:2}),e(m,{label:"\u7591\u4F3C",value:3}),e(m,{label:"\u5BA1\u6838\u5931\u8D25",value:4})]),_:1},8,["modelValue"])]),_:1}),a.type=="1"?(s(),r(d,{key:0,label:"\u8054\u7F51\u641C\u7D22"},{default:o(()=>[e(x,{class:"w-[280px]",modelValue:a.network,"onUpdate:modelValue":l[3]||(l[3]=t=>a.network=t)},{default:o(()=>[e(m,{label:"\u5168\u90E8",value:""}),e(m,{label:"\u672A\u4F7F\u7528",value:0}),e(m,{label:"\u4F7F\u7528",value:1})]),_:1},8,["modelValue"])]),_:1})):F("",!0),e(d,{label:"\u63D0\u95EE\u65F6\u95F4"},{default:o(()=>[e(q,{startTime:a.start_time,"onUpdate:startTime":l[4]||(l[4]=t=>a.start_time=t),endTime:a.end_time,"onUpdate:endTime":l[5]||(l[5]=t=>a.end_time=t)},null,8,["startTime","endTime"])]),_:1}),e(d,null,{default:o(()=>[e(k,{type:"primary",onClick:i(C)},{default:o(()=>[Be]),_:1},8,["onClick"]),e(k,{onClick:i(M)},{default:o(()=>[we]),_:1},8,["onClick"]),e(W,{class:"ml-2.5","fetch-fun":i(A),params:a,"page-size":i(_).size},null,8,["fetch-fun","params","page-size"])]),_:1})]),_:1},8,["model"])]),_:1}),e(V,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[c("div",De,[e(k,{type:"default",plain:!0,disabled:!b.value.length,onClick:l[6]||(l[6]=t=>w(b.value.map(y=>y.id)))},{default:o(()=>[xe]),_:1},8,["disabled"])]),E((s(),r(Q,{size:"large",data:i(_).lists,onSelectionChange:I},{default:o(()=>[e(p,{type:"selection",width:"55"}),e(p,{label:"ID",prop:"id","min-width":"80"}),e(p,{label:"\u7528\u6237\u4FE1\u606F","min-width":"180"},{default:o(({row:t})=>[c("div",Ve,[t.avatar?(s(),r(G,{key:0,class:"flex-none",src:t.avatar,width:48,height:48,"preview-src-list":[t.avatar],"preview-teleported":"",fit:"contain"},null,8,["src","preview-src-list"])):F("",!0),c("span",Re,f(t.nickname),1)])]),_:1}),e(p,{label:"\u63D0\u95EE\u65F6\u95F4",prop:"create_time","min-width":"180","show-tooltip-when-overflow":""}),e(p,{label:"\u7528\u6237\u63D0\u95EE",prop:"ask","min-width":"180"},{default:o(({row:t})=>[e(H,{ref:"askPopRef",content:t.ask},null,8,["content"])]),_:1}),a.type=="1"?(s(),r(p,{key:0,label:"\u8054\u7F51\u529F\u80FD","min-width":"160"},{default:o(({row:t})=>[c("div",Te,[u(f(t.network?"\u4F7F\u7528":"\u672A\u4F7F\u7528")+" ",1),t.network?(s(),r(J,{key:0,class:"",link:"",type:"primary",onClick:y=>O(t.network_plugin.data)},{default:o(()=>[Ae]),_:2},1032,["onClick"])):F("",!0)])]),_:1})):F("",!0),e(p,{label:"\u5BF9\u8BDD\u6A21\u578B",prop:"model_desc","min-width":"120"}),e(p,{label:"\u5BA1\u6838\u72B6\u6001","min-width":"180"},{default:o(({row:t})=>[c("div",null,[t.censor_status==1?(s(),r(v,{key:0,class:"mr-2",type:"success"},{default:o(()=>[u(f(t.censor_status_desc),1)]),_:2},1024)):t.censor_status>=2?(s(),P(be,{key:1},[e(v,{class:"mr-2 cursor-pointer",type:"danger"},{default:o(()=>[u(f(t.censor_status_desc),1)]),_:2},1024),c("span",{class:"text-error text-sm cursor-pointer",onClick:y=>z(t)}," \u67E5\u770B\u539F\u56E0 ",8,$e)],64)):t.censor_status==0?(s(),r(v,{key:2,class:"mr-2",type:"warning"},{default:o(()=>[u(f(t.censor_status_desc),1)]),_:2},1024)):(s(),r(v,{key:3,class:"mr-2",type:"danger"},{default:o(()=>[u(f(t.censor_status_desc),1)]),_:2},1024))])]),_:1}),e(p,{label:"\u64CD\u4F5C","min-width":"180",fixed:"right"},{default:o(({row:t})=>[E((s(),r(k,{type:"primary",link:"",onClick:y=>N(t.reply)},{default:o(()=>[Se]),_:2},1032,["onClick"])),[[R,["chat_records/see"]]]),E((s(),r(k,{type:"danger",link:"",onClick:y=>w([t.id])},{default:o(()=>[Pe]),_:2},1032,["onClick"])),[[R,["chat_records/del"]]])]),_:1})]),_:1},8,["data"])),[[Y,i(_).loading]]),c("div",Ue,[e(X,{modelValue:i(_),"onUpdate:modelValue":l[7]||(l[7]=t=>he(_)?_.value=t:null),onChange:i(h)},null,8,["modelValue","onChange"])])]),_:1}),e(ge,{ref_key:"auditRef",ref:B},null,512),e(Ee,{ref_key:"popRef",ref:g},null,512)])}}});export{Vt as default};
