import{c as I,C as T,B as N,L as P,a as Q,a0 as K,t as O,D as W,K as j}from"./element-plus.38726bbd.js";import{_ as G}from"./picker.a9db97c4.js";import{P as H}from"./index.1c6c033d.js";import{s as J}from"./type.86ea506e.js";import{r as _}from"./index.0aa35fa2.js";import{d as X,s as V,r as f,e as Y,_ as Z,ag as $,o as E,c as D,V as e,M as o,W as ee,aa as ue,a as s,u as te,L as le}from"./@vue.581f5ce0.js";function we(n){return _.get({url:"/skill.skill/lists",params:n},{ignoreCancelToken:!0})}function oe(n){return _.post({url:"/skill.skill/add",params:n})}function se(n){return _.post({url:"/skill.skill/edit",params:n})}function Ue(n){return _.post({url:"/skill.skill/del",params:n})}function qe(n){return _.post({url:"/skill.skill/status",params:n})}const ae={class:"edit-popup"},ne={class:"flex flex-wrap"},re={class:"w-[190px] mr-[20px] mb-[20px]"},de={class:"flex items-center text-tx-regular text-xs"},ie=s("span",{class:"mr-[4px] mt-[2px]"},"\u4E0A\u4E0B\u6587\u603B\u6570",-1),pe={class:"w-[190px] mr-[20px] mb-[20px]"},me={class:"flex items-center text-tx-regular text-xs"},ce=s("span",{class:"mr-[4px] mt-[2px]"},"\u56DE\u590D\u6761\u6570",-1),_e={class:"w-[190px] mr-[20px] mb-[20px]"},Fe={class:"flex items-center text-tx-regular text-xs"},xe=s("span",{class:"mr-[4px] mt-[2px]"},"\u8BCD\u6C47\u5C5E\u6027",-1),fe={class:"w-[190px] mr-[20px] mb-[20px]"},Ee={class:"flex items-center text-tx-regular text-xs"},Ce=s("span",{class:"mr-[4px] mt-[2px]"},"\u968F\u673A\u5C5E\u6027",-1),Be={class:"w-[190px] mr-[20px] mb-[20px]"},ge={class:"flex items-center text-tx-regular text-xs"},Ve=s("span",{class:"mr-[4px] mt-[2px]"},"\u8BDD\u9898\u5C5E\u6027",-1),Se=X({__name:"edit",emits:["success","close"],setup(n,{expose:b,emit:C}){const B=V(),F=V(),x=f("add"),A=Y(()=>x.value=="add"?"\u65B0\u589E\u6280\u80FD":"\u7F16\u8F91\u6280\u80FD"),t=Z({id:"",name:"",category_id:"",content:"",sort:0,status:1,image:"",tips:"",describe:"",model:"gpt-3.5-turbo",n:0,temperature:.7,context_num:2,top_p:.9,presence_penalty:.5,frequency_penalty:.5}),g=f([]);f([]);const k={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],image:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u7247",trigger:["blur"]}],category_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u522B",trigger:["blur"]}],content:[{required:!0,message:"\u8BF7\u8F93\u5165\u8C03\u6559\u6587\u6848",trigger:["blur"]}],tips:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u793A\u5185\u5BB9",trigger:["blur"]}],model:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B",trigger:["blur"]}],context_num:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B\u53C2\u6570",trigger:["blur"]}]},v=async()=>{var a,u;await((a=B.value)==null?void 0:a.validate()),x.value=="edit"?await se(t):await oe(t),(u=F.value)==null||u.close(),C("success")},y=async()=>{const{lists:a}=await J();g.value=a},w=(a="add")=>{var u;x.value=a,y(),(u=F.value)==null||u.open()},U=async a=>{for(const u in t)a[u]!=null&&a[u]!=null&&(t[u]=a[u])},q=()=>{C("close")};return b({open:w,setFormData:U}),(a,u)=>{const S=G,r=T,d=N,h=j,L=P,i=$("QuestionFilled"),p=I,m=Q,c=K,M=O,z=W;return E(),D("div",ae,[e(H,{ref_key:"popupRef",ref:F,title:te(A),async:!0,width:"550px",onConfirm:v,onClose:q},{default:o(()=>[e(z,{ref_key:"formRef",ref:B,model:t,"label-width":"84px",rules:k},{default:o(()=>[e(r,{label:"\u56FE\u6807",prop:"image"},{default:o(()=>[e(S,{modelValue:t.image,"onUpdate:modelValue":u[0]||(u[0]=l=>t.image=l),limit:1},null,8,["modelValue"])]),_:1}),e(r,{label:"\u6280\u80FD\u540D\u79F0",prop:"name"},{default:o(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u6280\u80FD\u540D\u79F0",modelValue:t.name,"onUpdate:modelValue":u[1]||(u[1]=l=>t.name=l)},null,8,["modelValue"])]),_:1}),e(r,{label:"\u6280\u80FD\u63CF\u8FF0",prop:"describe"},{default:o(()=>[e(d,{modelValue:t.describe,"onUpdate:modelValue":u[2]||(u[2]=l=>t.describe=l),placeholder:"\u8BF7\u8F93\u5165\u6280\u80FD\u63CF\u8FF0",rows:3,type:"textarea"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u6240\u5C5E\u7C7B\u522B",prop:"category_id"},{default:o(()=>[e(L,{placeholder:"\u8BF7\u9009\u62E9",class:"w-full",modelValue:t.category_id,"onUpdate:modelValue":u[3]||(u[3]=l=>t.category_id=l)},{default:o(()=>[(E(!0),D(ee,null,ue(g.value,(l,R)=>(E(),le(h,{key:R,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"\u8C03\u6559\u6587\u6848",prop:"content"},{default:o(()=>[e(d,{modelValue:t.content,"onUpdate:modelValue":u[4]||(u[4]=l=>t.content=l),placeholder:"\u8BF7\u8F93\u5165\u8C03\u6559\u6587\u6848",rows:3,type:"textarea"},null,8,["modelValue"])]),_:1}),e(r,{label:"\u63D0\u793A\u6587\u5B57",prop:"tips"},{default:o(()=>[e(d,{placeholder:"\u5728\u8F93\u5165\u6846\u91CC\u63D0\u793A\u7528\u6237\u7684\u6587\u5B57",rows:3,type:"textarea",modelValue:t.tips,"onUpdate:modelValue":u[5]||(u[5]=l=>t.tips=l)},null,8,["modelValue"])]),_:1}),e(r,{label:"\u6A21\u578B\u53C2\u6570",required:""},{default:o(()=>[s("div",ne,[s("div",re,[s("div",de,[ie,e(m,{class:"box-item",effect:"dark",content:"\u751F\u6210\u6587\u672C\u7684\u6700\u5927\u957F\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570",placement:"top"},{default:o(()=>[e(p,{size:"16px"},{default:o(()=>[e(i)]),_:1})]),_:1})]),e(c,{modelValue:t.context_num,"onUpdate:modelValue":u[6]||(u[6]=l=>t.context_num=l),min:1,max:5},null,8,["modelValue"])]),s("div",pe,[s("div",me,[ce,e(m,{class:"box-item",effect:"dark",content:"\u4E3A\u6BCF\u4E2A\u8F93\u5165\u6D88\u606F\u751F\u6210\u591A\u4E2A\u56DE\u590D\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570\u3002",placement:"top"},{default:o(()=>[e(p,{size:"16px"},{default:o(()=>[e(i)]),_:1})]),_:1})]),e(c,{modelValue:t.n,"onUpdate:modelValue":u[7]||(u[7]=l=>t.n=l),min:1,max:5},null,8,["modelValue"])]),s("div",_e,[s("div",Fe,[xe,e(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u968F\u673A\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.7\u5DE6\u53F3\u3002",placement:"top"},{default:o(()=>[e(p,{size:"16px"},{default:o(()=>[e(i)]),_:1})]),_:1})]),e(c,{modelValue:t.temperature,"onUpdate:modelValue":u[8]||(u[8]=l=>t.temperature=l),min:0,max:1,step:.1},null,8,["modelValue","step"])]),s("div",fe,[s("div",Ee,[Ce,e(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u591A\u6837\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.9\u5DE6\u53F3\u3002",placement:"top"},{default:o(()=>[e(p,{size:"16px"},{default:o(()=>[e(i)]),_:1})]),_:1})]),e(c,{modelValue:t.top_p,"onUpdate:modelValue":u[9]||(u[9]=l=>t.top_p=l),min:0,max:1,step:.1},null,8,["modelValue","step"])]),s("div",Be,[s("div",ge,[Ve,e(m,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u662F\u5426\u51FA\u73B0\u7ED9\u5B9A\u7684\u5173\u952E\u8BCD\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3\u3002",placement:"top"},{default:o(()=>[e(p,{size:"16px"},{default:o(()=>[e(i)]),_:1})]),_:1})]),e(c,{modelValue:t.presence_penalty,"onUpdate:modelValue":u[10]||(u[10]=l=>t.presence_penalty=l),step:.1,min:0,max:1},null,8,["modelValue","step"])])])]),_:1}),e(r,{label:"\u6392\u5E8F"},{default:o(()=>[e(d,{modelValue:t.sort,"onUpdate:modelValue":u[11]||(u[11]=l=>t.sort=l),placeholder:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u72B6\u6001"},{default:o(()=>[e(M,{modelValue:t.status,"onUpdate:modelValue":u[12]||(u[12]=l=>t.status=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{Se as _,qe as c,Ue as d,we as s};
