import{t as Y,C as Z,D as ee,M as te,K as ae,L as oe,w as le,y as ue,N as ne,O as se,P as ie,x as me}from"./element-plus.38726bbd.js";import{_ as re}from"./index.vue_vue_type_script_setup_true_lang.c6066b25.js";import{_ as de}from"./index.vue_vue_type_script_setup_true_lang.42418fb0.js";import{u as pe}from"./usePaging.2d3fb421.js";import{c as _e,h as ce,i as fe}from"./ai_key.4cf9f223.js";import{g as R,_ as ye,s as ve,d as Ce}from"./edit.vue_vue_type_script_setup_true_lang.1c94ad0f.js";import{f as E}from"./index.0aa35fa2.js";import{d as be,r as w,s as ge,_ as Fe,ag as we,ar as he,o as n,c as k,V as e,M as a,a as v,W as S,aa as L,u as i,O as y,L as r,k as Ee,S as ke,T as C}from"./@vue.581f5ce0.js";import"./lodash-es.b552e321.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.788ba4d8.js";import"./@element-plus.048d13fe.js";import"./dayjs.3bbbdfdd.js";import"./axios.ef5f3479.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.1c6c033d.js";import"./vue-drag-resize.3665149e.js";import"./lodash.ccf63c29.js";import"./vue-router.f90229e4.js";import"./pinia.8de84ecb.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.7bd56a8d.js";import"./color.4d72ae60.js";import"./clone.f3914b59.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.e3c4d4cf.js";import"./ms.a9ae1d6d.js";import"./nprogress.db25c43d.js";import"./vue-clipboard3.37da43ca.js";import"./clipboard.51333a27.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.18a086c3.js";const Be=v("div",{class:"text-xl font-medium mb-[20px]"},"\u529F\u80FD\u72B6\u6001",-1),De=v("div",{class:"form-tips"}," \u5F00\u542F\u65F6\uFF0C\u5982\u679CKey\u5DF2\u5931\u6548\u7684\u8BDD\u4F1A\u81EA\u52A8\u4E0B\u67B6Key\uFF0C\u76EE\u524D\u8BE5\u8BBE\u7F6E\u53EA\u5BF9ChatGPT\u7684Key\u6709\u6548 ",-1),Ve=C("\u67E5\u8BE2"),xe=C("\u91CD\u7F6E"),Ae={class:"mb-[10px]"},Pe=C(" + \u65B0\u589E\u89C4\u5219 "),Ke=C(" \u7F16\u8F91 "),Te=C(" \u5220\u9664 "),Re={class:"flex justify-end mt-4"},ht=be({__name:"index",setup(Se){const $=w(!0),B=ge(),D=w([]),u=Fe({type:1,ai_key:"",keyword:"",start_time:"",end_time:"",status:""}),V=w(1),p=w({key_auto_down:1}),U=[{name:"AI\u5BF9\u8BDD",type:1},{name:"AI\u7ED8\u753B",type:2}],{pager:d,getLists:_,resetPage:N,resetParams:z}=pe({fetchFun:R,params:u}),M=l=>{u.type=l,_(),x()},x=async()=>{try{const l=await _e({type:u.type});D.value=l}catch(l){console.log("\u83B7\u53D6ai\u6A21\u578B\u5931\u8D25=>",l)}},I=l=>{ve({id:l}),E.msgSuccess("\u64CD\u4F5C\u6210\u529F")},A=(l,o)=>{var c;(c=B.value)==null||c.open(u.type,l,o)},O=async l=>{await E.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await Ce({id:l}),E.msgSuccess("\u64CD\u4F5C\u6210\u529F"),_()},P=async()=>{p.value=await ce()},j=async()=>{try{await fe(p.value)}finally{P()}};return P(),_(),x(),(l,o)=>{const c=Y,b=Z,K=ee,h=te,g=ae,T=oe,f=le,q=de,G=me,W=ue,m=ne,H=se,J=re,Q=we("balancePop"),F=he("perms"),X=ie;return n(),k("div",null,[e(h,{shadow:"never",class:"!border-none"},{default:a(()=>[e(K,{class:"ls-form",model:p.value,"label-width":"120px"},{default:a(()=>[Be,e(b,{label:"key\u6C60\u89C4\u5219",prop:"key_auto_down"},{default:a(()=>[v("div",null,[e(c,{"active-value":1,"inactive-value":0,modelValue:p.value.key_auto_down,"onUpdate:modelValue":o[0]||(o[0]=t=>p.value.key_auto_down=t),onChange:j},null,8,["modelValue"]),De])]),_:1})]),_:1},8,["model"])]),_:1}),e(h,{class:"!border-none mt-4",shadow:"never"},{default:a(()=>[e(K,{ref:"formRef",class:"mb-[-16px]",model:u,inline:!0},{default:a(()=>[e(b,{label:"\u63A5\u53E3\u7C7B\u578B"},{default:a(()=>[e(T,{class:"w-[280px] mr-3",modelValue:u.ai_key,"onUpdate:modelValue":o[1]||(o[1]=t=>u.ai_key=t)},{default:a(()=>[(n(!0),k(S,null,L(D.value,(t,s)=>(n(),r(g,{key:s,label:t,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(b,{label:"\u72B6\u6001"},{default:a(()=>[e(T,{class:"w-[280px]",modelValue:u.status,"onUpdate:modelValue":o[2]||(o[2]=t=>u.status=t)},{default:a(()=>[e(g,{label:"\u5168\u90E8",value:""}),e(g,{label:"\u5F00\u542F",value:1}),e(g,{label:"\u5173\u95ED",value:0})]),_:1},8,["modelValue"])]),_:1}),e(b,null,{default:a(()=>[e(f,{type:"primary",onClick:i(N)},{default:a(()=>[Ve]),_:1},8,["onClick"]),e(f,{onClick:i(z)},{default:a(()=>[xe]),_:1},8,["onClick"]),e(q,{class:"ml-2.5","fetch-fun":i(R),params:u,"page-size":i(d).size},null,8,["fetch-fun","params","page-size"])]),_:1})]),_:1},8,["model"])]),_:1}),e(h,{shadow:"never",class:"!border-none mt-4"},{default:a(()=>[e(W,{modelValue:V.value,"onUpdate:modelValue":o[3]||(o[3]=t=>V.value=t),onTabChange:M},{default:a(()=>[(n(),k(S,null,L(U,(t,s)=>e(G,{label:`${t.name}`,name:t.type,key:s},null,8,["label","name"])),64))]),_:1},8,["modelValue"]),v("div",Ae,[y((n(),r(f,{type:"primary",onClick:o[4]||(o[4]=t=>A("add"))},{default:a(()=>[Pe]),_:1})),[[F,["setting.key_down_rule/add"]]])]),y((n(),r(H,{size:"large",data:i(d).lists},{default:a(()=>[e(m,{label:"\u63A5\u53E3\u7C7B\u578B",prop:"ai_key_desc","min-width":"100"}),e(m,{label:"\u505C\u7528\u89C4\u5219",prop:"rule","min-width":"200"}),e(m,{label:"\u505C\u7528\u63D0\u793A",prop:"prompt","min-width":"140"}),y((n(),r(m,{label:"\u72B6\u6001","min-width":"100"},{default:a(({row:t})=>[e(c,{modelValue:t.status,"onUpdate:modelValue":s=>t.status=s,"active-value":1,"inactive-value":0,onChange:s=>I(t.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})),[[F,["setting.key_down_rule/status"]]]),e(m,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"create_time","min-width":"180"}),e(m,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"update_time","min-width":"180"}),e(m,{label:"\u64CD\u4F5C",fixed:"right","min-width":"180"},{default:a(({row:t})=>[y((n(),r(f,{type:"primary",link:"",onClick:s=>A("edit",t)},{default:a(()=>[Ke]),_:2},1032,["onClick"])),[[F,["setting.key_down_rule/edit"]]]),y((n(),r(f,{type:"danger",link:!0,onClick:s=>O(t.id)},{default:a(()=>[Te]),_:2},1032,["onClick"])),[[F,["setting.key_down_rule/del"]]])]),_:1})]),_:1},8,["data"])),[[X,i(d).loading]]),v("div",Re,[e(J,{modelValue:i(d),"onUpdate:modelValue":o[5]||(o[5]=t=>Ee(d)?d.value=t:null),onChange:i(_)},null,8,["modelValue","onChange"])])]),_:1}),e(Q,{ref:"balanceRef"},null,512),$.value?(n(),r(ye,{key:0,ref_key:"editRef",ref:B,onSuccess:i(_)},null,8,["onSuccess"])):ke("",!0)])}}});export{ht as default};
