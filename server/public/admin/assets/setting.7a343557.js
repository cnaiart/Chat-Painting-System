import{_ as K}from"./index.f9197633.js";import{c as T,_ as G,M as L,B as N,w as H,C as M,L as O,a as Q,a0 as j,G as W,H as J,D as X,K as Y}from"./element-plus.38726bbd.js";import{u as Z}from"./vue-router.f90229e4.js";import{f as ee,e as ue}from"./AI.250251da.js";import{_ as te}from"./balancePop.vue_vue_type_script_setup_true_lang.cccbfe74.js";import"./index.0aa35fa2.js";import{d as oe,s as ae,r as le,ag as se,ar as ne,o as s,c as F,V as e,M as t,a as o,W as k,aa as V,O as b,L as c,T as m}from"./@vue.581f5ce0.js";import"./vue-drag-resize.3665149e.js";import"./lodash-es.b552e321.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.788ba4d8.js";import"./@element-plus.048d13fe.js";import"./dayjs.3bbbdfdd.js";import"./axios.ef5f3479.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.1c6c033d.js";import"./lodash.ccf63c29.js";import"./pinia.8de84ecb.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.7bd56a8d.js";import"./color.4d72ae60.js";import"./clone.f3914b59.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.e3c4d4cf.js";import"./ms.a9ae1d6d.js";import"./nprogress.db25c43d.js";import"./vue-clipboard3.37da43ca.js";import"./clipboard.51333a27.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.18a086c3.js";const me={class:""},ie=o("div",{class:"text-xl font-medium mb-[20px]"},"AI\u53C2\u6570\u914D\u7F6E",-1),re=m("\u67E5\u8BE2\u4F59\u989D"),pe=m("\u6DFB\u52A0key"),de=m("\u5220\u9664key"),_e=o("div",{class:"form-tips"},"\u9700\u81EA\u5907GPT\u8D26\u53F7\uFF0C\u8BF7\u6839\u636E\u60A8\u5F53\u5730\u7684\u6CD5\u89C4\u914C\u60C5\u4F7F\u7528",-1),ce=o("div",{class:"form-tips"},"\u9ED8\u8BA4\uFF1Atext-davinci-003",-1),fe={class:"flex flex-wrap justify-between"},Fe={class:"w-[45%]"},De={class:"flex items-center"},Ee=o("span",{class:"mr-[4px] mt-[2px]"},"\u4E0A\u4E0B\u6587\u603B\u6570",-1),Ce={class:"w-[45%] ml-[10px]"},Ae={class:"flex items-center"},ve=o("span",{class:"mr-[4px] mt-[2px]"},"\u56DE\u590D\u6761\u6570",-1),Be={class:"w-[45%]"},ye={class:"flex items-center"},ke=o("span",{class:"mr-[4px] mt-[2px]"},"\u968F\u673A\u5C5E\u6027",-1),Ve={class:"w-[45%] ml-[10px]"},be={class:"flex items-center"},ge=o("span",{class:"mr-[4px] mt-[2px]"},"\u8BCD\u6C47\u5C5E\u6027",-1),he={class:"w-[45%]"},xe={class:"flex items-center"},we=o("span",{class:"mr-[4px] mt-[2px]"},"\u8BDD\u9898\u5C5E\u6027",-1),Ue=m("\u5173\u95ED"),Ie=m("\u5F00\u542F"),Re=o("div",{class:"text-xl font-medium mb-[20px]"},"\u57DF\u540D\u914D\u7F6E",-1),Pe={class:"flex"},$e=o("div",{class:"form-tips"}," \u53CD\u5411\u4EE3\u7406API\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1Ahttps://api.openai.com ",-1),ze=m("\u4FDD\u5B58"),ku=oe({__name:"setting",setup(Se){const{query:g}=Z(),C=ae();(async()=>{formData.value=await ee({key:g.key}),formData.value.api_key.length===0&&(formData.value.api_key=[""])})();const A=le(),h=async()=>{var u;await((u=A.value)==null?void 0:u.validate()),await ue(formData.value)},x={api_key:[{required:!0,message:"\u8BF7\u8F93\u5165\u79D8\u94A5",trigger:["blur"]}],api_type:[{required:!0,message:"\u8BF7\u9009\u62E9",trigger:["blur"]}]},w=()=>{formData.value.api_key.push("")},U=u=>{formData.value.api_key.splice(u,1)},I=u=>{C.value.open(u)};return(u,l)=>{const R=G,D=L,v=N,f=H,i=M,P=Y,$=O,r=se("QuestionFilled"),p=T,d=Q,_=j,B=W,z=J,S=X,q=K,y=ne("perms");return s(),F("div",me,[e(D,{class:"!border-none",shadow:"never"},{default:t(()=>[e(R,{content:u.$route.meta.title,onBack:l[0]||(l[0]=a=>u.$router.back())},null,8,["content"])]),_:1}),e(S,{ref_key:"formRef",ref:A,rules:x,class:"ls-form mt-4",model:u.formData,"label-width":"180px"},{default:t(()=>[e(D,{shadow:"never",class:"!border-none"},{default:t(()=>[ie,e(i,{label:"apiKey",prop:"api_key"},{default:t(()=>[o("div",null,[o("div",null,[(s(!0),F(k,null,V(u.formData.api_key,(a,n)=>(s(),F("div",{class:"flex mb-1",key:n},[e(v,{placeholder:"\u8BF7\u8F93\u5165API\u63A5\u53E3\u5BC6\u94A5",class:"w-[400px]",modelValue:u.formData.api_key[n],"onUpdate:modelValue":E=>u.formData.api_key[n]=E},null,8,["modelValue","onUpdate:modelValue"]),b((s(),c(f,{class:"ml-2",type:"primary",onClick:E=>I(u.formData.api_key[n])},{default:t(()=>[re]),_:2},1032,["onClick"])),[[y,["setting.aiSetting/queryBalance"]]]),n==0?(s(),c(f,{key:0,type:"primary",class:"ml-2",onClick:w,plain:""},{default:t(()=>[pe]),_:1})):(s(),c(f,{key:1,type:"danger",class:"ml-2",onClick:E=>U(n),plain:""},{default:t(()=>[de]),_:2},1032,["onClick"]))]))),128))]),_e])]),_:1}),e(i,{label:"\u6A21\u578B",prop:"name"},{default:t(()=>[o("div",null,[e($,{class:"w-[400px]",modelValue:u.formData.model,"onUpdate:modelValue":l[1]||(l[1]=a=>u.formData.model=a)},{default:t(()=>[(s(!0),F(k,null,V(u.formData.model_list,a=>(s(),c(P,{value:a,label:a,key:a},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),ce])]),_:1}),e(i,{label:"\u53C2\u6570\u8BBE\u7F6E",prop:"context_num"},{default:t(()=>[o("div",fe,[o("div",Fe,[e(d,{class:"box-item",effect:"dark",content:"\u751F\u6210\u6587\u672C\u7684\u6700\u5927\u957F\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570",placement:"top-start"},{default:t(()=>[o("div",De,[Ee,e(p,{size:"16px"},{default:t(()=>[e(r)]),_:1})])]),_:1}),e(_,{modelValue:u.formData.context_num,"onUpdate:modelValue":l[2]||(l[2]=a=>u.formData.context_num=a),min:0,max:5},null,8,["modelValue"])]),o("div",Ce,[e(d,{class:"box-item",effect:"dark",content:"\u4E3A\u6BCF\u4E2A\u8F93\u5165\u6D88\u606F\u751F\u6210\u591A\u4E2A\u56DE\u590D\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570\u3002",placement:"top-start"},{default:t(()=>[o("div",Ae,[ve,e(p,{size:"16px"},{default:t(()=>[e(r)]),_:1})])]),_:1}),e(_,{modelValue:u.formData.n,"onUpdate:modelValue":l[3]||(l[3]=a=>u.formData.n=a),min:1,max:5},null,8,["modelValue"])]),o("div",Be,[e(d,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u591A\u6837\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.9\u5DE6\u53F3\u3002",placement:"top-start"},{default:t(()=>[o("div",ye,[ke,e(p,{size:"16px"},{default:t(()=>[e(r)]),_:1})])]),_:1}),e(_,{modelValue:u.formData.top_p,"onUpdate:modelValue":l[4]||(l[4]=a=>u.formData.top_p=a),step:"0.1",min:0,max:1},null,8,["modelValue"])]),o("div",Ve,[e(d,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u968F\u673A\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.7\u5DE6\u53F3\u3002",placement:"top-start"},{default:t(()=>[o("div",be,[ge,e(p,{size:"16px"},{default:t(()=>[e(r)]),_:1})])]),_:1}),e(_,{modelValue:u.formData.temperature,"onUpdate:modelValue":l[5]||(l[5]=a=>u.formData.temperature=a),step:"0.1",min:0,max:1},null,8,["modelValue"])]),o("div",he,[e(d,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u662F\u5426\u51FA\u73B0\u7ED9\u5B9A\u7684\u5173\u952E\u8BCD\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3\u3002",placement:"top-start"},{default:t(()=>[o("div",xe,[we,e(p,{size:"16px"},{default:t(()=>[e(r)]),_:1})])]),_:1}),e(_,{modelValue:u.formData.presence_penalty,"onUpdate:modelValue":l[6]||(l[6]=a=>u.formData.presence_penalty=a),step:"0.1",min:0,max:1},null,8,["modelValue"])])])]),_:1}),e(i,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[e(z,{modelValue:u.formData.status,"onUpdate:modelValue":l[7]||(l[7]=a=>u.formData.status=a)},{default:t(()=>[e(B,{label:0},{default:t(()=>[Ue]),_:1}),e(B,{label:1},{default:t(()=>[Ie]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(D,{shadow:"never",class:"!border-none mt-4"},{default:t(()=>[Re,e(i,{label:"\u81EA\u5B9A\u4E49API\u57DF\u540D",prop:"agency_api"},{default:t(()=>[o("div",null,[o("div",Pe,[e(v,{placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49API\u57DF\u540D",class:"w-[400px]",modelValue:u.formData.agency_api,"onUpdate:modelValue":l[8]||(l[8]=a=>u.formData.agency_api=a)},null,8,["modelValue"])]),$e])]),_:1})]),_:1})]),_:1},8,["model"]),b((s(),c(q,null,{default:t(()=>[e(f,{type:"primary",onClick:h},{default:t(()=>[ze]),_:1})]),_:1})),[[y,["setting.aiSetting/setconfig"]]]),e(te,{ref_key:"popRef",ref:C},null,512)])}}});export{ku as default};
