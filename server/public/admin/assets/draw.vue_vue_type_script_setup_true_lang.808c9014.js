import{t as tu,C as au,G as ou,H as su,w as du,b as nu,Y as iu,B as ru,L as Fu,D as pu,K as _u}from"./element-plus.38726bbd.js";import{a as mu,b as cu}from"./AI.250251da.js";import{d as Du,s as Eu,r as B,j as vu,o as d,c as p,V as a,M as o,a as u,W as f,aa as K,S as i,u as Bu,L as r,T as _,U as fu}from"./@vue.581f5ce0.js";const Au="/admin/assets/zhishuyun_code.3f9da855.png",xu=u("div",{class:"form-tips !text-[14px]"}," \u9ED8\u8BA4\u5173\u95ED\uFF1B\u7ED8\u753B\u529F\u80FD\u5173\u95ED\u540E\uFF0C\u6709\u5173\u7ED8\u753B\u7684\u5165\u53E3\u5C06\u4E0D\u663E\u793A ",-1),yu={key:0,class:"form-tips !text-[14px]"},Cu={key:1,class:"flex items-center"},gu=u("span",{class:"form-tips !text-[14px]"},"\u5982\u679C\u60A8\u5DF2\u5F00\u901A\u77E5\u6570\u4E91\u63A5\u53E3\uFF0C\u53EF\u76F4\u63A5\u586B\u5199\uFF1B\u5982\u679C\u672A\u5F00\u901A",-1),Vu={href:"https://auth.zhishuyun.com/auth/login?inviter_id=c7ff8573-940e-4dd0-828c-91adeda5f5dd&redirect=https://data.zhishuyun.com",target:"_blank",rel:"noopener noreferrer"},hu=_(" \u524D\u5F80\u5F00\u901A "),bu=_("\u626B\u7801\u5F00\u901A"),wu={class:"flex"},ku=u("div",{class:"form-tips !text-[14px]"}," \u56FE\u7247\u4EE3\u7406\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1Ahttps://cdn.discordapp.com ",-1),Iu={class:"flex"},Uu=u("div",{class:"form-tips !text-[14px]"}," \u53CD\u5411\u4EE3\u7406API\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1Ahttps://api.openai.com ",-1),Ou={class:"flex"},Su=u("div",{class:"form-tips !text-[14px]"}," \u53CD\u5411\u4EE3\u7406API\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1Ahttps://discord.com ",-1),Pu={class:"flex"},Ru=u("div",{class:"form-tips !text-[14px]"}," \u8BE5\u9879\u4E3A\u5FC5\u586B\uFF0C\u4E0D\u586B\u5199\u5219\u65E0\u6CD5\u4F7F\u7528 ",-1),Nu={class:"flex"},qu=u("div",{class:"form-tips !text-[14px]"}," WSS\u57DF\u540D\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\uFF1Awss://gateway.discord.gg ",-1),zu={class:"flex"},ju={class:"flex"},Lu={class:"flex"},Wu={class:"flex"},Mu=u("div",{class:"form-tips !text-[14px]"}," \u5F00\u542F\u81EA\u52A8\u7FFB\u8BD1MJ\u5173\u952E\u8BCD\u4E3A\u82F1\u6587\uFF0C\u8BA9\u7ED8\u56FE\u66F4\u7CBE\u51C6\u3002 ",-1),Gu=_("\u7CFB\u7EDF\u81EA\u52A8\u7FFB\u8BD1"),Hu=_("\u7528\u6237\u624B\u52A8\u7FFB\u8BD1"),Ku={class:"form-tips"},Tu=_(" \u9009\u62E9\u7FFB\u8BD1\u63A5\u53E3\u540E\uFF0C\u9700\u524D\u5F80\u3010AI\u5BF9\u8BDD\u914D\u7F6E\u3011\u8BBE\u7F6E\u76F8\u5E94\u7684\u5BF9\u8BDD\u6A21\u578B\u53C2\u6570"),Ju=u("br",null,null,-1),Yu={key:0},Qu={class:"w-[420px]"},Xu=u("div",{class:"form-tips flex !text-[14px]"}," {prompt}\u662F\u5185\u7F6E\u53D8\u91CF\uFF0C\u8868\u793A\u7528\u6237\u8F93\u5165\u7684\u63CF\u8FF0\u8BCD ",-1),Zu=u("div",{class:"form-tips w-[400px] !text-[14px]"},[u("p",null," \u793A\u4F8B\uFF1A\u6211\u4F1A\u7528\u4EFB\u4F55\u8BED\u8A00\u548C\u4F60\u4EA4\u6D41\uFF0C\u4F60\u53EA\u9700\u5C06\u6211\u7684\u8BDD\u7FFB\u8BD1\u4E3A\u82F1\u8BED\uFF0C\u4E0D\u8981\u89E3\u91CA\u6211\u7684\u8BDD\u6216\u8005\u56DE\u590D\u5176\u4ED6\u4FE1\u606F\uFF0C\u8BF7\u7ACB\u523B\u5C06\u6211\u7684\u8BDD\u7FFB\u8BD1\u8FD4\u56DE\uFF0C\u6211\u7684\u8BDD\u662F:{prompt} ")],-1),$u={class:"flex"},ue=_("\u5206\u949F"),ee=u("div",{class:"form-tips !text-[14px]"}," \u9ED8\u8BA410\u5206\u949F\uFF0C\u8BBE\u7F6E\u65F6\u957F\u8FC7\u77ED\u6216\u8FC7\u957F\u53EF\u80FD\u4F1A\u5F71\u54CD\u5230\u7ED8\u753B\u4F53\u9A8C\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01 ",-1),se=Du({__name:"draw",props:{popRef:{type:Object,default:{}}},setup(le,{expose:T}){const A=Eu(),s=B({is_open:"",disclaimer_status:0,disclaimer_content:"",time_out:10,config_lists:[],translate_config:{model:"",prompt:""},translate_model_lists:[]}),e=B({}),J=c=>{e.value=s.value.config_lists[c],e.value.status=1},m=B(""),Y={guild_id:[{required:!0,message:"\u8BF7\u586B\u5199\u670D\u52A1\u5668ID",trigger:["blur"]}],channel_id:[{required:!0,message:"\u8BF7\u586B\u5199\u9891\u9053ID",trigger:["blur"]}],session_id:[{required:!0,message:"\u8BF7\u586B\u5199\u4F1A\u8BDDID",trigger:["blur"]}],bot_token:[{required:!0,message:"\u8BF7\u586B\u5199\u673A\u5668\u4EBAtoken",trigger:["blur"]}],proxy_url:[{required:!0,message:"\u8BF7\u586B\u5199API\u57DF\u540D",trigger:["blur"]}]},x=async()=>{var c;s.value=await mu(),e.value=Object.values((c=s.value)==null?void 0:c.config_lists).find(t=>t.status)||{},m.value=e.value.type},Q=async()=>{await A.value.validate(),await cu({draw_config:{...e.value,is_open:s.value.is_open,disclaimer_status:s.value.disclaimer_status,disclaimer_content:s.value.disclaimer_content,time_out:s.value.time_out},translate_config:s.value.translate_config}),x()};return vu(()=>{x()}),T({submit:Q}),(c,t)=>{const y=tu,n=au,v=ou,C=su,g=du,X=nu,Z=iu,F=ru,$=_u,uu=Fu,eu=pu;return d(),p("div",null,[a(eu,{"label-width":"120px",ref_key:"formRef",ref:A,rules:Y,model:e.value},{default:o(()=>{var V,h,b,w,k,I,U,O,S,P,R,N,q,z,j,L,W,M,G,H;return[a(n,{label:"\u7ED8\u753B\u529F\u80FD"},{default:o(()=>[u("div",null,[a(y,{modelValue:s.value.is_open,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.is_open=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),xu])]),_:1}),a(n,{label:"AI\u63A5\u53E3",class:"is-required"},{default:o(()=>{var l,E;return[u("div",null,[a(C,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=D=>m.value=D),onChange:J},{default:o(()=>[(d(!0),p(f,null,K(s.value.config_lists,(D,lu)=>(d(),r(v,{key:lu,label:D.type,disabled:!D.is_open},{default:o(()=>[_(fu(D.name),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"]),((l=m.value)==null?void 0:l.indexOf("yijian_sd"))!=-1?(d(),p("div",yu," \u542F\u7528\u610F\u95F4\u7ED8\u753B\u9700\u6309\u6587\u6863\u8BBE\u7F6E\u4EFB\u52A1\u961F\u5217\uFF0Cphp\u6269\u5C55gd\u5E93\u652F\u6301jpeg ")):i("",!0),((E=m.value)==null?void 0:E.indexOf("zhishuyun"))!=-1?(d(),p("div",Cu,[gu,u("a",Vu,[a(g,{type:"primary",link:"",class:"ml-2"},{default:o(()=>[hu]),_:1})]),a(Z,{placement:"top-start",width:"auto",trigger:"hover"},{reference:o(()=>[a(g,{type:"primary",link:"",class:"ml-2"},{default:o(()=>[bu]),_:1})]),default:o(()=>[a(X,{src:Bu(Au),class:"w-[150px] h-[150px]"},null,8,["src"])]),_:1})])):i("",!0)])]}),_:1}),((h=(V=e.value)==null?void 0:V.type)==null?void 0:h.indexOf("mdd"))==0?(d(),r(n,{key:0,label:"\u56FE\u7247\u4EE3\u7406\u57DF\u540D",prop:"agency_api"},{default:o(()=>[u("div",null,[u("div",wu,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u56FE\u7247\u4EE3\u7406\u57DF\u540D",class:"w-[400px]",modelValue:e.value.proxy_url,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.proxy_url=l)},null,8,["modelValue"])]),ku])]),_:1})):i("",!0),((w=(b=e.value)==null?void 0:b.type)==null?void 0:w.indexOf("dalle"))==0?(d(),r(n,{key:1,label:"\u81EA\u5B9A\u4E49API\u57DF\u540D",prop:"agency_api"},{default:o(()=>[u("div",null,[u("div",Iu,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49API\u57DF\u540D",class:"w-[400px]",modelValue:e.value.proxy_url,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.proxy_url=l)},null,8,["modelValue"])]),Uu])]),_:1})):i("",!0),((I=(k=e.value)==null?void 0:k.type)==null?void 0:I.indexOf("mdd"))==0?(d(),r(n,{key:2,label:"API\u57DF\u540D",prop:"agency_api"},{default:o(()=>[u("div",null,[u("div",Ou,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49API\u57DF\u540D",class:"w-[400px]",modelValue:e.value.proxy_api,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.proxy_api=l)},null,8,["modelValue"])]),Su])]),_:1})):i("",!0),((O=(U=e.value)==null?void 0:U.type)==null?void 0:O.indexOf("sd"))==0?(d(),r(n,{key:3,label:"API\u57DF\u540D",prop:"proxy_url"},{default:o(()=>[u("div",null,[u("div",Pu,[a(F,{placeholder:"\u8BF7\u8F93\u5165API\u57DF\u540D",class:"w-[400px]",modelValue:e.value.proxy_url,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.proxy_url=l)},null,8,["modelValue"])]),Ru])]),_:1})):i("",!0),((P=(S=e.value)==null?void 0:S.type)==null?void 0:P.indexOf("mdd"))==0?(d(),r(n,{key:4,label:"WSS\u57DF\u540D"},{default:o(()=>[u("div",null,[u("div",Nu,[a(F,{placeholder:"\u8BF7\u8F93\u5165WSS\u76D1\u542C\u57DF\u540D,\u5FC5\u987B\u4EE5wss://\u5F00\u5934",class:"w-[400px]",modelValue:e.value.proxy_wss,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.proxy_wss=l)},null,8,["modelValue"])]),qu])]),_:1})):i("",!0),((N=(R=e.value)==null?void 0:R.type)==null?void 0:N.indexOf("mdd"))==0?(d(),r(n,{key:5,label:"\u670D\u52A1\u5668ID",prop:"guild_id"},{default:o(()=>[u("div",null,[u("div",zu,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u5668ID",class:"w-[400px]",modelValue:e.value.guild_id,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.guild_id=l)},null,8,["modelValue"])])])]),_:1})):i("",!0),((z=(q=e.value)==null?void 0:q.type)==null?void 0:z.indexOf("mdd"))==0?(d(),r(n,{key:6,label:"CHANNEL_ID",prop:"channel_id"},{default:o(()=>[u("div",null,[u("div",ju,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u9891\u9053ID",class:"w-[400px]",modelValue:e.value.channel_id,"onUpdate:modelValue":t[8]||(t[8]=l=>e.value.channel_id=l)},null,8,["modelValue"])])])]),_:1})):i("",!0),((L=(j=e.value)==null?void 0:j.type)==null?void 0:L.indexOf("mdd"))==0?(d(),r(n,{key:7,label:"SESSION_ID",prop:"session_id"},{default:o(()=>[u("div",null,[u("div",Lu,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u4F1A\u8BDDID",class:"w-[400px]",modelValue:e.value.session_id,"onUpdate:modelValue":t[9]||(t[9]=l=>e.value.session_id=l)},null,8,["modelValue"])])])]),_:1})):i("",!0),((M=(W=e.value)==null?void 0:W.type)==null?void 0:M.indexOf("mdd"))==0?(d(),r(n,{key:8,label:"\u673A\u5668\u4EBAtoken",prop:"bot_token"},{default:o(()=>[u("div",null,[u("div",Wu,[a(F,{placeholder:"\u8BF7\u8F93\u5165\u673A\u5668\u4EBAtoken",class:"w-[400px]",modelValue:e.value.bot_token,"onUpdate:modelValue":t[10]||(t[10]=l=>e.value.bot_token=l)},null,8,["modelValue"])])])]),_:1})):i("",!0),a(n,{label:"\u7ED8\u753B\u7FFB\u8BD1",required:""},{default:o(()=>[u("div",null,[a(y,{modelValue:e.value.auto_translate,"onUpdate:modelValue":t[11]||(t[11]=l=>e.value.auto_translate=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),Mu])]),_:1}),e.value.auto_translate?(d(),p(f,{key:9},[a(n,{label:"\u7FFB\u8BD1\u5F62\u5F0F",required:""},{default:o(()=>[a(C,{modelValue:e.value.translate_type,"onUpdate:modelValue":t[12]||(t[12]=l=>e.value.translate_type=l)},{default:o(()=>[a(v,{label:1},{default:o(()=>[Gu]),_:1}),a(v,{label:2},{default:o(()=>[Hu]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"\u6A21\u578B",prop:"name"},{default:o(()=>[u("div",null,[a(uu,{class:"w-[400px]",modelValue:s.value.translate_config.model,"onUpdate:modelValue":t[13]||(t[13]=l=>s.value.translate_config.model=l)},{default:o(()=>[(d(!0),p(f,null,K(s.value.translate_model_lists,(l,E)=>(d(),r($,{value:E,label:l,key:l},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),u("div",Ku,[Tu,Ju,s.value.translate_config.model=="BAIDU"?(d(),p("span",Yu," \u63A8\u8350\u4F7F\u7528ERNIE-Bot-turbo\u3001ERNIE-Bot-4\u6A21\u578B\uFF0C\u8FD9\u4E24\u4E2A\u6A21\u578B\u5177\u6709\u66F4\u5F3A\u7684\u7406\u89E3\u80FD\u529B\uFF0C\u7FFB\u8BD1\u6548\u679C\u66F4\u597D ")):i("",!0)])])]),_:1}),a(n,{label:"\u7FFB\u8BD1\u6307\u4EE4",prop:"translate_config.model"},{default:o(()=>[u("div",Qu,[a(F,{modelValue:s.value.translate_config.prompt,"onUpdate:modelValue":t[14]||(t[14]=l=>s.value.translate_config.prompt=l),autosize:{minRows:7,maxRows:7},type:"textarea","show-word-limit":"",placeholder:"\u8BF7\u8F93\u5165\u7FFB\u8BD1\u6307\u4EE4"},null,8,["modelValue"]),Xu,Zu])]),_:1})],64)):i("",!0),((H=(G=e.value)==null?void 0:G.type)==null?void 0:H.indexOf("dalle"))==-1?(d(),r(n,{key:10,label:"\u8D85\u65F6\u5904\u7406\u65F6\u957F",prop:"time_out"},{default:o(()=>[u("div",null,[u("div",$u,[a(F,{type:"number",placeholder:"\u8BF7\u586B\u5199\u8D85\u65F6\u5904\u7406\u65F6\u957F",class:"w-[400px]",modelValue:s.value.time_out,"onUpdate:modelValue":t[15]||(t[15]=l=>s.value.time_out=l)},{append:o(()=>[ue]),_:1},8,["modelValue"])]),ee])]),_:1})):i("",!0)]}),_:1},8,["model"])])}}});export{se as _};
